<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">


  <head>
    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />

    <title>
        Documentation
        &mdash;
        AFNI/NIfTI Server
    </title>

    
      
      
    

    <meta name="generator" content="Plone - http://plone.org" />

    <meta content="AFNI/SUMA Documentation"
          name="description" />
    <meta content="AFNI/SUMA Documentation"
          name="DC.description" />
    <meta content="aclark" name="DC.creator" />
    <meta content="2005-02-15 17:56:44"
          name="DC.date.created" />
    <meta content="2005-02-16 19:39:11"
          name="DC.date.modified" />
    <meta content="Help Center" name="DC.type" />
    <meta content="text/plain" name="DC.format" />
    <meta content="en" name="DC.language" />

    <!-- Basic crude style for Netscape4.x - This can be removed
         if you don't want the special NS4 look - it will still work,
         just be plain text instead. Column layout for Netscape4.x included -->
    <link rel="Stylesheet" type="text/css"
          href="http://afni.nimh.nih.gov/ploneNS4.css" />

    <!-- Column style sheet. -->
    <style type="text/css" media="screen"><!-- @import url(http://afni.nimh.nih.gov/ploneColumns.css); --></style>

    <!-- Main style sheets for CSS2 capable browsers -->
    <style type="text/css" media="screen"><!-- @import url(http://afni.nimh.nih.gov/plone.css); --></style>

    <!-- Old style sheet from Plone 1.0, remove tal:condition="nothing" if you need to use the old styles.
         Will be removed in Plone 2.1. -->
    

    <!-- Alternate style sheets for the bigger/smaller text switcher -->
    <link rel="alternate stylesheet" type="text/css"
          media="screen"
          href="http://afni.nimh.nih.gov/ploneTextSmall.css"
          title="Small Text" />
    <link rel="alternate stylesheet" type="text/css"
          media="screen"
          href="http://afni.nimh.nih.gov/ploneTextLarge.css"
          title="Large Text" />

    <!-- Style sheet used for printing -->
    <link rel="stylesheet" type="text/css" media="print"
          href="http://afni.nimh.nih.gov/plonePrint.css" />

    <!-- Style sheet used for presentations (Opera is the only browser supporting this at the moment) -->
    <link rel="stylesheet" type="text/css"
          media="projection"
          href="http://afni.nimh.nih.gov/plonePresentation.css" />

    <!-- Internet Explorer CSS Fixes -->
    <!--[if IE]>
    <style type="text/css" media="all">@import url(http://afni.nimh.nih.gov/ploneIEFixes.css);</style>
    <![endif]-->


    <!-- Custom style sheet if available -->
    <style type="text/css" media="all"><!-- @import url(http://afni.nimh.nih.gov/ploneCustom.css); --></style>

    <link rel="shortcut icon"
          href="http://afni.nimh.nih.gov/favicon.ico"
          type="image/x-icon" />

    <link rel="search"
          href="http://afni.nimh.nih.gov/search_form"
          title="Search this site" />

    

    <link rel="up" href="http://afni.nimh.nih.gov/afni"
          title="Up one level" />

    

    <!-- Disable IE6 image toolbar -->
    <meta http-equiv="imagetoolbar" content="no" />

    
      <!-- A slot where you can insert CSS in the header from a template -->
      
    <style type="text/css" media="all"> @import url(http://afni.nimh.nih.gov/helpcenter.css);</style>
    
    

    

      
    
    
    
    
    


      
      <!-- A slot where you can insert elements in the header from a template -->
    

    
      <!-- A slot where you can insert javascript in the header from a template -->
      
    

    <!-- Common Plone ECMAScripts -->

    <!-- Pull-down ECMAScript menu, only active if logged in -->
    

    <!-- Define dynamic server-side variables for javascripts in this one  -->
    <script type="text/javascript"
            src="http://afni.nimh.nih.gov/plone_javascript_variables.js">
    </script>

    <script type="text/javascript"
            src="http://afni.nimh.nih.gov/plone_javascripts.js">
    </script>

    

      <!-- Old JS from Plone 1.0, remove tal:condition="nothing" if you need to use the old pop-ups.
           Will be removed in Plone 2.1 -->
      

    
  </head>

  <body class="section-afni">

    <div id="visual-portal-wrapper">

      <div id="portal-top">

        <a class="hiddenStructure"
           href="http://afni.nimh.nih.gov/afni/doc#documentContent">Skip to content</a>

           <ul id="portal-siteactions">

    <li id="siteaction-small_text"><a
    href="javascript:setActiveStyleSheet('Small Text', 1);"
    title="Small Text">Small Text</a></li>
    <li id="siteaction-normal_text"><a
    href="javascript:setActiveStyleSheet('', 1);"
    title="Normal Text">Normal Text</a></li>
    <li id="siteaction-large_text"><a
    href="javascript:setActiveStyleSheet('Large Text', 1);"
    title="Large Text">Large Text</a></li>

</ul>

           <div id="portal-searchbox">
    <form name="searchform"
          action="http://afni.nimh.nih.gov/search">
        <label for="searchGadget" class="hiddenStructure">Search</label>
        <input id="searchGadget" name="SearchableText"
               type="text" size="30" alt="Search"
               title="Search" accesskey="s"
               style="font-size: 110%; margin-bottom: 3px; margin-right: 0; padding: 3px"
               class="visibility:visible" tabindex="30001" />
        <input class="searchButton" type="submit"
               value="Search" accesskey="s" tabindex="30002" />
    </form>
</div>

           <h1 id="portal-logo">
    <a href="http://afni.nimh.nih.gov">AFNI/NIfTI Server</a>
</h1>

           <div id="portal-skinswitcher">
  
</div>

           
    <h5 class="hiddenStructure">Sections</h5>

    <ul id="portal-globalnav">
        
        <li id="portaltab-index_html" class="plain">
            <a href="http://afni.nimh.nih.gov" accesskey="t">Home</a>
        </li>
        
        
        <li id="portaltab-afni" class="selected">
            <a href="http://afni.nimh.nih.gov/afni"
               accesskey="t">AFNI</a>
        </li>
        
        
        <li id="portaltab-suma" class="plain">
            <a href="http://afni.nimh.nih.gov/afni/suma"
               accesskey="t">SUMA</a>
        </li>
        
        
        <li id="portaltab-download" class="plain">
            <a href="http://afni.nimh.nih.gov/afni/download"
               accesskey="t">Download</a>
        </li>
        
        
        <li id="portaltab-documentation" class="plain">
            <a href="http://afni.nimh.nih.gov/afni/doc"
               accesskey="t">Documentation</a>
        </li>
        
        
        <li id="portaltab-board" class="plain">
            <a href="http://afni.nimh.nih.gov/afni/community/board"
               accesskey="t">Message Board</a>
        </li>
        
        
        <li id="portaltab-internal" class="plain">
            <a href="http://afni.nimh.nih.gov/sscc/internal"
               accesskey="t">Internal</a>
        </li>
        
        
        <li id="portaltab-sitemap" class="plain">
            <a href="http://afni.nimh.nih.gov/sitemap"
               accesskey="t">SiteMap</a>
        </li>
        
    </ul>



           

<h5 class="hiddenStructure">Personal tools</h5>

<ul id="portal-personaltools">
    

    <li class="portalNotLoggedIn">
              SSCC Staff
    </li>

       
    
        <li>
            <a href="http://afni.nimh.nih.gov/login_form"
               accesskey="u">
               Log in
            </a>
        </li>
    

</ul>


           <div id="portal-breadcrumbs">

    You are here:
    
            <a href="http://afni.nimh.nih.gov/">Home</a>
            <span class="breadcrumbSeparator">&raquo;</span>
    
    
    <span>
        
            <a href="http://afni.nimh.nih.gov/afni/"
               accesskey="accesskeys-breadcrumbs">AFNI</a>
            <span class="breadcrumbSeparator"> &raquo; </span>
            
         
    </span>
    <span>
        
            
            
            <span>Documentation</span>
         
    </span>
</div>
      </div>

      <div class="visualClear"></div>

      <!-- The wrapper table. It contains the three columns. There's a table-less
           alternative in the plone_tableless skin layer that you can use if you
           prefer layouts that don't use tables. -->
      <table id="portal-columns">
        <tbody>
          <tr>
            <!-- start of the left (by default at least) column -->
            <td id="portal-column-one">
              <div class="visualPadding">
                
                  

    

        
            
        

        
    
    

        
            
    <div class="portlet" id="portlet-navigation-tree">
    <div>
        <h5>Navigation</h5>
        <div class="portletBody">
            <div class="portletContent odd">
                
                
                    
                        

                        <a href="http://afni.nimh.nih.gov/"
                           accesskey="n"
                           class="navItem navRootItem"
                           title="AFNI/NIfTI Server">
                            <img
    src="http://afni.nimh.nih.gov/site_icon.gif" height="16"
    width="16" alt="" class="navIconRoot" title="Plone Site" />
                            <span class="navItemText">
                                  Home
                            </span>
                        </a>
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/"
                           accesskey="n"
                           class="navItem navLevel1"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">AFNI</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/about/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="AFNI is a set of C programs for processing, analyzing, and displaying functional MRI (FMRI) data - a technique for mapping human brain activity. It runs on Unix+X11+Motif systems, including SGI, Solaris, Linux, and Mac OS X. It is available free (in C source code format, and some precompiled binaries) for research purposes.">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">About</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/download/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="AFNI is distributed in C source code format on the Web. If you wish to be placed on the e-mailing list (to be notified of updates, bug fixes, etc.), send me e-mail at rwcox@nih.gov Alternatively, you can read the Latest News Page occasionally to see if any changes you care about have happened. You can use a Web browser to download the AFNI files from the AFNI Software Repository.">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">Download</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/helpcenter_view"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="AFNI/SUMA Documentation">
                            <img
    src="http://afni.nimh.nih.gov/helpcenter_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Help Center" />
                            <span class="navItemText">Documentation</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/howto/howtofolder_view"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Detailed tutorials that guide you step-by-step from installing AFNI to conducting your FMRI analyses with it.   How-to's written by Peggy Christidis, Ph.D. &amp; Rick Reynolds, M.S., M.S.">
                            <img
    src="http://afni.nimh.nih.gov/topic_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="How-to Section" />
                            <span class="navItemText">HOWTO</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/edu/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Some educational material about using AFNI and about understanding (F)MRI physics">
                            <img
    src="http://afni.nimh.nih.gov/referencemanual_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Edu Items" />
                            <span class="navItemText">Educational Material</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/video/ivideofolder_view"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Video Demonstrations of AFNI Usage.">
                            <img
    src="http://afni.nimh.nih.gov/movie_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Video Section" />
                            <span class="navItemText">Video Demos</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/readme/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Links to (some of) the &quot;plain text&quot; README files that come with AFNI (and links to some other relevant docs too).">
                            <img
    src="http://afni.nimh.nih.gov/referencemanual_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="READMEs" />
                            <span class="navItemText">README</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/programs_help/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Output of AFNI Programs with -help option.">
                            <img
    src="http://afni.nimh.nih.gov/favicon.png" height="16"
    width="16" alt="" class="navIcon" title="Help Items" />
                            <span class="navItemText">Programs -help output</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/faq/faqfolder_view"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Frequently Asked Questions about AFNI">
                            <img
    src="http://afni.nimh.nih.gov/faq_icon.gif" height="16"
    width="16" alt="" class="navIcon" title="FAQ Section" />
                            <span class="navItemText">FAQ</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/manual/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Various Manuals for AFNI">
                            <img
    src="http://afni.nimh.nih.gov/referencemanual_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="HelpCenterReferenceManualFolder" />
                            <span class="navItemText">Manuals</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/tutorial/tutorialfolder_view"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="Detailed tutorials.">
                            <img
    src="http://afni.nimh.nih.gov/tutorial_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Tutorial Section" />
                            <span class="navItemText">Tutorials</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/compile/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="The most current information about compiling AFNI is in HOWTO #00. ">
                            <img
    src="http://afni.nimh.nih.gov/stock_exec_24.png"
    height="16" width="16" alt="" class="navIcon"
    title="Compile Instructions" />
                            <span class="navItemText">Build Instructions</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/source/"
                           accesskey="n"
                           class="navItem navLevel3 currentNavItem"
                           title="AFNI Source code documentation created with Doxygen.">
                            <img
    src="http://afni.nimh.nih.gov/stock_exec_24.png"
    height="16" width="16" alt="" class="navIcon"
    title="Source Code" />
                            <span class="navItemText">Doxygen Source</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/misc/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title=" Miscellaneous AFNI Documentation">
                            <img
    src="http://afni.nimh.nih.gov/faq_icon.gif" height="16"
    width="16" alt="" class="navIcon" title="Misc Items" />
                            <span class="navItemText">Miscellaneous Items</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/download/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/download_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Download Instructions" />
                            <span class="navItemText">Download Instructions</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/doc/suma/"
                           accesskey="n"
                           class="navItem navLevel3"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/sumalogosmall.gif"
    height="16" width="16" alt="" class="navIcon"
    title="HelpCenterSumaFolder" />
                            <span class="navItemText">SUMA</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/matlab/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="Ziad Saad and Gang Chen have developed a package of Matlab functions to read, write, and process AFNI datasets. This may be useful for those who want to carry out matlab-based computations such as Dr. Worsley's FMRISTAT or Gang Chen's 4-way ANOVA or user cuddly 3dDeconvolve.">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">Matlab Library</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/community/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="Community-related links, includes Message Board, Photo Album and Feedback Area.">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">Community</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/events/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">Events</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/news/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">News</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/suma/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="AFNI Surface Mapper">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">SUMA</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/afni/search/"
                           accesskey="n"
                           class="navItem navLevel2"
                           title="Search Methods">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">Search</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/nifti/"
                           accesskey="n"
                           class="navItem navLevel1"
                           title="">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Folder" />
                            <span class="navItemText">NIfTI</span>
                        </a>

                        
                    
                
                
                    
                        <a href="http://afni.nimh.nih.gov/sscc/"
                           accesskey="n"
                           class="navItem navLevel1"
                           title="Container for portal members' home directories">
                            <img
    src="http://afni.nimh.nih.gov/folder_icon.gif"
    height="16" width="16" alt="" class="navIcon"
    title="Large Plone Folder" />
                            <span class="navItemText">SSCC</span>
                        </a>

                        
                    
                
                
            </div>
        </div>
    </div>
</div>

        

        
    
    

        
            
        

        
    
    

        
            
        

        
    
    

        
            
        

        
    

                
                &nbsp;
              </div>
            </td>
            <!-- end of the left (by default at least) column -->

            <!-- start of main content block -->
            <td id="portal-column-content">

              
                <div id="content" class="">

                  

                  <div class="documentContent" id="region-content">

                    <a name="documentContent"></a>

                    

                    

                    
    
            <h1 class="documentFirstHeading">Doxygen Source Code Documentation</h1>
        
<hr>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindexRef" doxygen="_cgi:http://afni.nimh.nih.gov/cgi-bin/doxysearch" href="http://afni.nimh.nih.gov/cgi-bin/doxysearch">Search</a> &nbsp; </center>
<hr><h1>3dFWHM.c File Reference</h1><code>#include "<a class="el" href="mrilib_8h-source.html">mrilib.h</a>"</code><br>

<p>
<a href="3dFWHM_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structinput__options.html">input_options</a></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a0">PROGRAM_NAME</a>&nbsp;&nbsp;&nbsp;"3dFWHM"</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a1">PROGRAM_AUTHOR</a>&nbsp;&nbsp;&nbsp;"B. Douglas Ward"</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a2">PROGRAM_INITIAL</a>&nbsp;&nbsp;&nbsp;"20 February 1997"</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a3">PROGRAM_LATEST</a>&nbsp;&nbsp;&nbsp;"08 March 2004"</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>&nbsp;&nbsp;&nbsp;THD_MAX_NAME</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a5">DOPEN</a>(ds, <a class="el" href="FD2_8c.html#a428">name</a>)</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a6">SUB_POINTER</a>(ds, vv, <a class="el" href="FD2_8c.html#a434">ind</a>, <a class="el" href="vp__file_8c.html#a11">ptr</a>)</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a7">DISP_SIG_RESULTS</a>(<a class="el" href="memset_8c.html#a2">c</a>, <a class="el" href="jpeglib_8h.html#a64">val</a>)</td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef input_options&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a8">input_options</a></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a9">display_help_menu</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a10">FWHM_error</a> (char *message)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a11">get_dimensions</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a12">read_afni_data</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data, char *<a class="el" href="cdjpeg_8h.html#a11">filename</a>, float *ffim)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a13">initialize_options</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a14">get_options</a> (int <a class="el" href="FD2_8c.html#a411">argc</a>, char **<a class="el" href="whirlgif_8c.html#a31">argv</a>, <a class="el" href="structinput__options.html">input_options</a> *option_data)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a15">check_for_valid_inputs</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a16">initialize</a> (int <a class="el" href="FD2_8c.html#a411">argc</a>, char **<a class="el" href="whirlgif_8c.html#a31">argv</a>, <a class="el" href="structinput__options.html">input_options</a> **option_data, float **<a class="el" href="fim_8c.html#a56">fim</a>, float **fmask)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a17">estimate_gfw</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data, float *<a class="el" href="fim_8c.html#a56">fim</a>, float *fmask, float *<a class="el" href="vp__linalg_8c.html#a15">sx</a>, float *<a class="el" href="vp__linalg_8c.html#a16">sy</a>, float *<a class="el" href="vp__linalg_8c.html#a17">sz</a>)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a18">output_results</a> (<a class="el" href="structinput__options.html">input_options</a> *option_data, float <a class="el" href="vp__linalg_8c.html#a15">sx</a>, float <a class="el" href="vp__linalg_8c.html#a16">sy</a>, float <a class="el" href="vp__linalg_8c.html#a17">sz</a>)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a19">terminate</a> (<a class="el" href="structinput__options.html">input_options</a> **option_data, float **<a class="el" href="fim_8c.html#a56">fim</a>, float **fmask)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="3dFWHM_8c.html#a20">main</a> (int <a class="el" href="FD2_8c.html#a411">argc</a>, char **<a class="el" href="whirlgif_8c.html#a31">argv</a>)</td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a7" doxytag="3dFWHM.c::DISP_SIG_RESULTS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DISP_SIG_RESULTS</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="memset_8c.html#a2">c</a>,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="jpeglib_8h.html#a64">val</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><span class="keywordflow">do</span> { <span class="keywordflow">if</span> ( val &gt;= 0.0 )                                               \
           fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"sigma%c = %5.2f   FWHM%c = %5.2f \n"</span>,             \
                    <a class="code" href="memset_8c.html#a2">c</a>, val, <a class="code" href="memset_8c.html#a2">c</a>, val * 2.0*sqrt(2.0*log(2.0)));                \
         <span class="keywordflow">else</span>                                                                \
           fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"sigma%c = NO_VALUE   FWHM%c = NO_VALUE\n"</span>,<a class="code" href="memset_8c.html#a2">c</a>,<a class="code" href="memset_8c.html#a2">c</a>);   \
    } <span class="keywordflow">while</span> (0)</pre></div>
<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00516">516</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00530">output_results()</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="3dFWHM.c::DOPEN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DOPEN</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ds,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="FD2_8c.html#a428">name</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><span class="keywordflow">do</span>{ <span class="keywordtype">int</span> pv ; (ds) = <a class="code" href="thd__mastery_8c.html#a881">THD_open_dataset</a>((<a class="code" href="FD2_8c.html#a428">name</a>)) ;                                    \
       <span class="keywordflow">if</span>( !<a class="code" href="3ddata_8h.html#a469">ISVALID_3DIM_DATASET</a>((ds)) ){                                            \
          fprintf(stderr,<span class="stringliteral">"*** Can't open dataset: %s\n"</span>,(<a class="code" href="FD2_8c.html#a428">name</a>)) ; exit(1) ; }        \
       <span class="keywordflow">if</span>( (ds)-&gt;daxes-&gt;nxx!=nx || (ds)-&gt;daxes-&gt;nyy!=ny || (ds)-&gt;daxes-&gt;nzz!=<a class="code" href="vp__shade_8c.html#a10">nz</a> ){   \
          fprintf(stderr,<span class="stringliteral">"*** Axes mismatch: %s\n"</span>,(<a class="code" href="FD2_8c.html#a428">name</a>)) ; exit(1) ; }             \
       <span class="keywordflow">if</span>( <a class="code" href="3ddata_8h.html#a532">DSET_NUM_TIMES</a>((ds)) &gt; 1 ){                                               \
         fprintf(stderr,<span class="stringliteral">"*** Can't use time-dependent data: %s\n"</span>,(<a class="code" href="FD2_8c.html#a428">name</a>));exit(1); } \
       <a class="code" href="thd__loaddblk_8c.html#a917">THD_load_datablock</a>( (ds)-&gt;dblk ) ;                                            \
       pv = <a class="code" href="3ddata_8h.html#a517">DSET_PRINCIPAL_VALUE</a>((ds)) ;                                             \
       <span class="keywordflow">if</span>( <a class="code" href="3ddata_8h.html#a510">DSET_ARRAY</a>((ds),pv) == NULL ){                                            \
          fprintf(stderr,<span class="stringliteral">"*** Can't access data: %s\n"</span>,(<a class="code" href="FD2_8c.html#a428">name</a>)) ; exit(1); }          \
       <span class="keywordflow">if</span>( <a class="code" href="3ddata_8h.html#a507">DSET_BRICK_TYPE</a>((ds),pv) == MRI_complex ){                                \
          fprintf(stderr,<span class="stringliteral">"*** Can't use complex data: %s\n"</span>,(<a class="code" href="FD2_8c.html#a428">name</a>)) ; exit(1); }     \
       <span class="keywordflow">break</span> ; } <span class="keywordflow">while</span> (0)</pre></div>macro to open a dataset and make it ready for processing * 
<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00049">49</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="3dFWHM.c::MAX_NAME_LENGTH"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAX_NAME_LENGTH&nbsp;&nbsp;&nbsp;THD_MAX_NAME
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00043">43</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00226">get_options()</a>, and <a class="el" href="3dFWHM_8c-source.html#l00530">output_results()</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="3dFWHM.c::PROGRAM_AUTHOR"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PROGRAM_AUTHOR&nbsp;&nbsp;&nbsp;"B. Douglas Ward"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00035">35</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00608">main()</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="3dFWHM.c::PROGRAM_INITIAL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PROGRAM_INITIAL&nbsp;&nbsp;&nbsp;"20 February 1997"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00036">36</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00608">main()</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="3dFWHM.c::PROGRAM_LATEST"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PROGRAM_LATEST&nbsp;&nbsp;&nbsp;"08 March 2004"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00037">37</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00608">main()</a>.    </td>
  </tr>
</table>
<a name="a0" doxytag="3dFWHM.c::PROGRAM_NAME"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PROGRAM_NAME&nbsp;&nbsp;&nbsp;"3dFWHM"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00034">34</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00133">FWHM_error()</a>, <a class="el" href="3dFWHM_8c-source.html#l00226">get_options()</a>, and <a class="el" href="3dFWHM_8c-source.html#l00608">main()</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="3dFWHM.c::SUB_POINTER"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SUB_POINTER</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ds,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>vv,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="FD2_8c.html#a434">ind</a>,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="vp__file_8c.html#a11">ptr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><span class="keywordflow">do</span>{ <span class="keywordflow">switch</span>( <a class="code" href="3ddata_8h.html#a507">DSET_BRICK_TYPE</a>((ds),(vv)) ){                                  \
         <span class="keywordflow">default</span>: fprintf(stderr,<span class="stringliteral">"\n*** Illegal datum! ***\n"</span>);exit(1);       \
            <span class="keywordflow">case</span> MRI_short:{ <span class="keywordtype">short</span> * <a class="code" href="fim_8c.html#a56">fim</a> = (<span class="keywordtype">short</span> *) <a class="code" href="3ddata_8h.html#a510">DSET_ARRAY</a>((ds),(vv)) ;  \
                            (ptr) = (<span class="keywordtype">void</span> *)( <a class="code" href="fim_8c.html#a56">fim</a> + (ind) ) ;                 \
            } <span class="keywordflow">break</span> ;                                                         \
            <span class="keywordflow">case</span> MRI_byte:{ byte * <a class="code" href="fim_8c.html#a56">fim</a> = (byte *) <a class="code" href="3ddata_8h.html#a510">DSET_ARRAY</a>((ds),(vv)) ;     \
                            (ptr) = (<span class="keywordtype">void</span> *)( <a class="code" href="fim_8c.html#a56">fim</a> + (ind) ) ;                 \
            } <span class="keywordflow">break</span> ;                                                         \
            <span class="keywordflow">case</span> MRI_float:{ <span class="keywordtype">float</span> * <a class="code" href="fim_8c.html#a56">fim</a> = (<span class="keywordtype">float</span> *) <a class="code" href="3ddata_8h.html#a510">DSET_ARRAY</a>((ds),(vv)) ;  \
                             (ptr) = (<span class="keywordtype">void</span> *)( <a class="code" href="fim_8c.html#a56">fim</a> + (ind) ) ;                \
            } <span class="keywordflow">break</span> ; } <span class="keywordflow">break</span> ; } <span class="keywordflow">while</span>(0)</pre></div>macro to return pointer to correct location in brick for current processing * 
<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00070">70</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a name="a8" doxytag="3dFWHM.c::input_options"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct input_options  input_options
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a15" doxytag="3dFWHM.c::check_for_valid_inputs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void check_for_valid_inputs </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>option_data</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00307">307</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
<div class="fragment"><pre>00308 {
00309 }
</pre></div>    </td>
  </tr>
</table>
<a name="a9" doxytag="3dFWHM.c::display_help_menu"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void display_help_menu </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00110">110</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3ddata_8h-source.html#l03174">MASTER_SHORTHELP_STRING</a>.
<p>
<div class="fragment"><pre>00111 {
00112   printf 
00113     (
00114      <span class="stringliteral">"This program estimates the Filter Width Half Maximum (FWHM).  \n\n"</span>
00115      <span class="stringliteral">"Usage: \n"</span>
00116      <span class="stringliteral">"3dFWHM \n"</span>
00117      <span class="stringliteral">"-dset file         file = name of input AFNI 3d dataset  \n"</span>
00118      <span class="stringliteral">"[-mask mname]      mname = filename of 3d mask dataset   \n"</span>
00119      <span class="stringliteral">"[-quiet]           suppress screen output                \n"</span> 
00120      <span class="stringliteral">"[-out file]        file = name of output file            \n"</span>
00121     );
00122 
00123    printf(<span class="stringliteral">"\n"</span> <a class="code" href="3ddata_8h.html#a702">MASTER_SHORTHELP_STRING</a> ) ;
00124   
00125   exit(0);
00126 }
</pre></div>    </td>
  </tr>
</table>
<a name="a17" doxytag="3dFWHM.c::estimate_gfw"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void estimate_gfw </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fim</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fmask</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sy</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00366">366</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="cdjpeg_8h-source.html#l00137">arg</a>, <a class="el" href="3dFWHM_8c-source.html#l00097">input_options::dx</a>, <a class="el" href="3dFWHM_8c-source.html#l00098">input_options::dy</a>, <a class="el" href="3dFWHM_8c-source.html#l00099">input_options::dz</a>, <a class="el" href="fim_8c-source.html#l00062">fim</a>, <a class="el" href="fim_8c-source.html#l00056">fsq</a>, <a class="el" href="editvol_8h-source.html#l00038">IJK_TO_THREE</a>, <a class="el" href="3dFWHM_8c-source.html#l00093">input_options::nx</a>, <a class="el" href="3dFWHM_8c-source.html#l00096">input_options::nxyz</a>, <a class="el" href="3dFWHM_8c-source.html#l00094">input_options::ny</a>, <a class="el" href="3dFWHM_8c-source.html#l00095">input_options::nz</a>, <a class="el" href="vp__shade_8c-source.html#l00200">nz</a>, <a class="el" href="uncomment_8c-source.html#l00012">putchar</a>, <a class="el" href="3dFWHM_8c-source.html#l00100">input_options::quiet</a>, <a class="el" href="editvol_8h-source.html#l00043">THREE_TO_IJK</a>, and <a class="el" href="pcor_8c-source.html#l00536">var</a>.
<p>
<div class="fragment"><pre>00368 {
00369   <span class="keywordtype">int</span> nx;                       <span class="comment">/* number of voxels along x-axis */</span>
00370   <span class="keywordtype">int</span> ny;                       <span class="comment">/* number of voxels along y-axis */</span>
00371   <span class="keywordtype">int</span> <a class="code" href="vp__shade_8c.html#a10">nz</a>;                       <span class="comment">/* number of voxels along z-axis */</span>
00372   <span class="keywordtype">int</span> nxy, nxyz;                <span class="comment">/* total number of voxels */</span>
00373   <span class="keywordtype">int</span> ixyz;                     <span class="comment">/* voxel index */</span>
00374   <span class="keywordtype">float</span> dx;                     <span class="comment">/* voxel size along x-axis */</span>
00375   <span class="keywordtype">float</span> dy;                     <span class="comment">/* voxel size along y-axis */</span>
00376   <span class="keywordtype">float</span> dz;                     <span class="comment">/* voxel size along z-axis */</span>
00377   <span class="keywordtype">int</span> ix, jy, kz, ixyz2;
00378   <span class="keywordtype">float</span> fsum, <a class="code" href="fim_8c.html#a34">fsq</a>, <a class="code" href="pcor_8c.html#a10">var</a>;
00379   <span class="keywordtype">float</span> dfdx, dfdxsum, dfdxsq, varxx;
00380   <span class="keywordtype">float</span> dfdy, dfdysum, dfdysq, varyy;
00381   <span class="keywordtype">float</span> dfdz, dfdzsum, dfdzsq, varzz;
00382   <span class="keywordtype">int</span> count, countx, county, countz;
00383   <span class="keywordtype">float</span> <a class="code" href="cdjpeg_8h.html#a14">arg</a>;
00384 
00385 
00386   <span class="comment">/*----- initialize local variables -----*/</span>
00387   nx = option_data-&gt;<a class="code" href="structinput__options.html#m2">nx</a>;
00388   ny = option_data-&gt;<a class="code" href="structinput__options.html#m3">ny</a>;
00389   <a class="code" href="vp__shade_8c.html#a10">nz</a> = option_data-&gt;<a class="code" href="structinput__options.html#m4">nz</a>;
00390   dx = option_data-&gt;<a class="code" href="structinput__options.html#m6">dx</a>;
00391   dy = option_data-&gt;<a class="code" href="structinput__options.html#m7">dy</a>;
00392   dz = option_data-&gt;<a class="code" href="structinput__options.html#m8">dz</a>;
00393   nxyz = option_data-&gt;<a class="code" href="structinput__options.html#m5">nxyz</a>;
00394   nxy = nx * ny;
00395 
00396 
00397   <span class="comment">/*----- estimate the variance of the data -----*/</span>
00398   fsum = 0.0;
00399   <a class="code" href="fim_8c.html#a34">fsq</a> = 0.0;
00400   count = 0;
00401   <span class="keywordflow">for</span> (ixyz = 0;  ixyz &lt; nxyz;  ixyz++)
00402     {
00403       <span class="keywordflow">if</span> (fmask != NULL)
00404         <span class="keywordflow">if</span> (fmask[ixyz] == 0.0)  <span class="keywordflow">continue</span>;
00405 
00406       count++;
00407       fsum += <a class="code" href="fim_8c.html#a56">fim</a>[ixyz];
00408       <a class="code" href="fim_8c.html#a34">fsq</a>  += <a class="code" href="fim_8c.html#a56">fim</a>[ixyz] * <a class="code" href="fim_8c.html#a56">fim</a>[ixyz];
00409     }
00410   <a class="code" href="pcor_8c.html#a10">var</a> = (<a class="code" href="fim_8c.html#a34">fsq</a> - (fsum * fsum)/count) / (count-1);
00411 
00412 
00413   <span class="comment">/*----- estimate the partial derivatives -----*/</span>
00414   dfdxsum = 0.0;   dfdysum = 0.0;   dfdzsum = 0.0;
00415   dfdxsq = 0.0;    dfdysq  = 0.0;   dfdzsq = 0.0;
00416   countx = 0;      county = 0;      countz = 0;
00417   <span class="keywordflow">for</span> (ixyz = 0;  ixyz &lt; nxyz;  ixyz++)
00418     {
00419       <span class="keywordflow">if</span> (fmask != NULL)
00420         <span class="keywordflow">if</span> (fmask[ixyz] == 0.0)  <span class="keywordflow">continue</span>;
00421 
00422       <a class="code" href="editvol_8h.html#a1">IJK_TO_THREE</a> (ixyz, ix, jy, kz, nx, nxy);
00423 
00424       <span class="keywordflow">if</span> (ix+1 &lt; nx)
00425         {
00426           ixyz2 = <a class="code" href="editvol_8h.html#a2">THREE_TO_IJK</a> (ix+1, jy, kz, nx, nxy);
00427           dfdx = (<a class="code" href="fim_8c.html#a56">fim</a>[ixyz2] - <a class="code" href="fim_8c.html#a56">fim</a>[ixyz]) / 1.0;
00428           dfdxsum += dfdx;
00429           dfdxsq  += dfdx * dfdx;
00430           countx += 1;
00431         }
00432 
00433       <span class="keywordflow">if</span> (jy+1 &lt; ny)
00434         {
00435           ixyz2 = <a class="code" href="editvol_8h.html#a2">THREE_TO_IJK</a> (ix, jy+1, kz, nx, nxy);
00436           dfdy = (<a class="code" href="fim_8c.html#a56">fim</a>[ixyz2] - <a class="code" href="fim_8c.html#a56">fim</a>[ixyz]) / 1.0;
00437           dfdysum += dfdy;
00438           dfdysq  += dfdy * dfdy;
00439           county += 1;
00440         }
00441       
00442       <span class="keywordflow">if</span> (kz+1 &lt; <a class="code" href="vp__shade_8c.html#a10">nz</a>)
00443         {
00444           ixyz2 = <a class="code" href="editvol_8h.html#a2">THREE_TO_IJK</a> (ix, jy, kz+1, nx, nxy);
00445           dfdz = (<a class="code" href="fim_8c.html#a56">fim</a>[ixyz2] - <a class="code" href="fim_8c.html#a56">fim</a>[ixyz]) / 1.0;
00446           dfdzsum += dfdz;
00447           dfdzsq  += dfdz * dfdz;
00448           countz += 1;
00449         }
00450       
00451      }
00452  
00453   <span class="comment">/*----- estimate the variance of the partial derivatives -----*/</span>
00454   <span class="keywordflow">if</span> (countx &lt; 2)  
00455     varxx = 0.0;
00456   <span class="keywordflow">else</span>  
00457     varxx = (dfdxsq - (dfdxsum * dfdxsum)/countx) / (countx-1);
00458 
00459   <span class="keywordflow">if</span> (county &lt; 2)
00460     varyy = 0.0;
00461   <span class="keywordflow">else</span>
00462     varyy = (dfdysq - (dfdysum * dfdysum)/county) / (county-1);
00463 
00464   <span class="keywordflow">if</span> (countz &lt; 2)
00465     varzz = 0.0;
00466   <span class="keywordflow">else</span>
00467     varzz = (dfdzsq - (dfdzsum * dfdzsum)/countz) / (countz-1);
00468 
00469   <span class="comment">/*----- now estimate the equivalent Gaussian filter width -----*/</span>
00470   <span class="keywordflow">if</span> ( <a class="code" href="pcor_8c.html#a10">var</a> == 0.0 )
00471   {
00472     *sx = *sy = *sz = 0.0;    <span class="comment">/* do not compute         08 Mar 2004 [rickr] */</span>
00473   }
00474   <span class="keywordflow">else</span>
00475   {
00476     <a class="code" href="cdjpeg_8h.html#a14">arg</a> = 1.0 - 0.5*(varxx/<a class="code" href="pcor_8c.html#a10">var</a>);
00477     <span class="keywordflow">if</span> ( (<a class="code" href="cdjpeg_8h.html#a14">arg</a> &lt;= 0.0) || (varxx == 0.0) )
00478       *sx = -1.0;              <span class="comment">/* flag value */</span>
00479     <span class="keywordflow">else</span>
00480       *sx = sqrt( -1.0 / (4.0*log(<a class="code" href="cdjpeg_8h.html#a14">arg</a>)) ) * dx;
00481 
00482     <a class="code" href="cdjpeg_8h.html#a14">arg</a> = 1.0 - 0.5*(varyy/<a class="code" href="pcor_8c.html#a10">var</a>);
00483     <span class="keywordflow">if</span> ( (<a class="code" href="cdjpeg_8h.html#a14">arg</a> &lt;= 0.0) || (varyy == 0.0) )
00484       *sy = -1.0;              <span class="comment">/* flag value */</span>
00485     <span class="keywordflow">else</span>
00486       *sy = sqrt( -1.0 / (4.0*log(<a class="code" href="cdjpeg_8h.html#a14">arg</a>)) ) * dy;
00487 
00488     <a class="code" href="cdjpeg_8h.html#a14">arg</a> = 1.0 - 0.5*(varzz/<a class="code" href="pcor_8c.html#a10">var</a>);
00489     <span class="keywordflow">if</span> ( (<a class="code" href="cdjpeg_8h.html#a14">arg</a> &lt;= 0.0) || (varzz == 0.0) )
00490       *sz = -1.0;              <span class="comment">/* flag value */</span>
00491     <span class="keywordflow">else</span>
00492       *sz = sqrt( -1.0 / (4.0*log(<a class="code" href="cdjpeg_8h.html#a14">arg</a>)) ) * dz;
00493   }
00494 
00495   <span class="keywordflow">if</span> (!(option_data-&gt;<a class="code" href="structinput__options.html#m9">quiet</a>))  
00496     {
00497       printf (<span class="stringliteral">"count=%d \n"</span>, count);
00498       printf (<span class="stringliteral">"var  =%f \n"</span>, <a class="code" href="pcor_8c.html#a10">var</a>);
00499       printf (<span class="stringliteral">"varxx=%f varyy=%f varzz=%f \n"</span>, varxx, varyy, varzz);
00500 
00501       <span class="comment">/* check flags instead...                      08 March 2004  [rickr]</span>
00502 <span class="comment">       * printf ("   sx=%f    sy=%f    sz=%f \n", *sx, *sy, *sz);</span>
00503 <span class="comment">       */</span>
00504 
00505       <span class="keywordflow">if</span> ( *sx &gt;= 0 ) printf(<span class="stringliteral">"   sx=%f "</span>, *sx);
00506       <span class="keywordflow">else</span>            printf(<span class="stringliteral">"   sx=NO_VALUE "</span>);
00507       <span class="keywordflow">if</span> ( *sy &gt;= 0 ) printf(<span class="stringliteral">"   sy=%f "</span>, *sy);
00508       <span class="keywordflow">else</span>            printf(<span class="stringliteral">"   sy=NO_VALUE "</span>);
00509       <span class="keywordflow">if</span> ( *sz &gt;= 0 ) printf(<span class="stringliteral">"   sz=%f "</span>, *sz);
00510       <span class="keywordflow">else</span>            printf(<span class="stringliteral">"   sz=NO_VALUE "</span>);
00511       <a class="code" href="uncomment_8c.html#a0">putchar</a>(<span class="charliteral">'\n'</span>);
00512     }
00513 }
</pre></div>    </td>
  </tr>
</table>
<a name="a10" doxytag="3dFWHM.c::FWHM_error"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void FWHM_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>message</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00133">133</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3dFWHM_8c-source.html#l00034">PROGRAM_NAME</a>.
<p>
Referenced by <a class="el" href="3dFWHM_8c-source.html#l00226">get_options()</a>, <a class="el" href="3dFWHM_8c-source.html#l00318">initialize()</a>, and <a class="el" href="3dFWHM_8c-source.html#l00530">output_results()</a>.
<p>
<div class="fragment"><pre>00134 {
00135    fprintf (stderr, <span class="stringliteral">"%s Error: %s \n"</span>, <a class="code" href="3dFWHM_8c.html#a0">PROGRAM_NAME</a>, message);
00136    exit(1);
00137 }
</pre></div>    </td>
  </tr>
</table>
<a name="a11" doxytag="3dFWHM.c::get_dimensions"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void get_dimensions </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>option_data</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00145">145</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3ddata_8h-source.html#l01969">THD_3dim_dataset::daxes</a>, <a class="el" href="3dFWHM_8c-source.html#l00097">input_options::dx</a>, <a class="el" href="3dFWHM_8c-source.html#l00098">input_options::dy</a>, <a class="el" href="3dFWHM_8c-source.html#l00099">input_options::dz</a>, <a class="el" href="3dFWHM_8c-source.html#l00091">input_options::infilename</a>, <a class="el" href="3ddata_8h-source.html#l02052">ISVALID_3DIM_DATASET</a>, <a class="el" href="3dFWHM_8c-source.html#l00093">input_options::nx</a>, <a class="el" href="3ddata_8h-source.html#l01262">THD_dataxes::nxx</a>, <a class="el" href="3dFWHM_8c-source.html#l00096">input_options::nxyz</a>, <a class="el" href="3dFWHM_8c-source.html#l00094">input_options::ny</a>, <a class="el" href="3ddata_8h-source.html#l01263">THD_dataxes::nyy</a>, <a class="el" href="3dFWHM_8c-source.html#l00095">input_options::nz</a>, <a class="el" href="3ddata_8h-source.html#l01264">THD_dataxes::nzz</a>, <a class="el" href="thd__delete_8c-source.html#l00105">THD_delete_3dim_dataset()</a>, <a class="el" href="thd__mastery_8c-source.html#l00021">THD_open_dataset()</a>, <a class="el" href="3ddata_8h-source.html#l01269">THD_dataxes::xxdel</a>, <a class="el" href="3ddata_8h-source.html#l01270">THD_dataxes::yydel</a>, and <a class="el" href="3ddata_8h-source.html#l01271">THD_dataxes::zzdel</a>.
<p>
<div class="fragment"><pre>00146 {
00147   
00148    <a class="code" href="structTHD__3dim__dataset.html">THD_3dim_dataset</a> * dset=NULL;
00149 
00150    <span class="comment">/*----- read first dataset to get dimensions, etc. -----*/</span>
00151 
00152    dset = <a class="code" href="thd__mastery_8c.html#a2">THD_open_dataset</a>( option_data-&gt;<a class="code" href="structinput__options.html#m0">infilename</a>) ;
00153    <span class="keywordflow">if</span>( ! <a class="code" href="3ddata_8h.html#a469">ISVALID_3DIM_DATASET</a>(dset) ){
00154       fprintf(stderr,<span class="stringliteral">"*** Unable to open dataset file %s\n"</span>, 
00155               option_data-&gt;<a class="code" href="structinput__options.html#m0">infilename</a>);
00156       exit(1) ;
00157    }
00158 
00159    <span class="comment">/*----- voxel dimensions and data set dimensions -----*/</span>
00160    option_data-&gt;<a class="code" href="structinput__options.html#m6">dx</a> = fabs(dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m7">xxdel</a>) ;
00161    option_data-&gt;<a class="code" href="structinput__options.html#m7">dy</a> = fabs(dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m8">yydel</a>) ;
00162    option_data-&gt;<a class="code" href="structinput__options.html#m8">dz</a> = fabs(dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m9">zzdel</a>) ;
00163    option_data-&gt;<a class="code" href="structinput__options.html#m2">nx</a> = dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m1">nxx</a> ;
00164    option_data-&gt;<a class="code" href="structinput__options.html#m3">ny</a> = dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m2">nyy</a> ;
00165    option_data-&gt;<a class="code" href="structinput__options.html#m4">nz</a> = dset-&gt;<a class="code" href="structTHD__3dim__dataset.html#m6">daxes</a>-&gt;<a class="code" href="structTHD__dataxes.html#m3">nzz</a> ;       
00166    option_data-&gt;<a class="code" href="structinput__options.html#m5">nxyz</a> = option_data-&gt;<a class="code" href="structinput__options.html#m2">nx</a> * option_data-&gt;<a class="code" href="structinput__options.html#m3">ny</a> * option_data-&gt;<a class="code" href="structinput__options.html#m4">nz</a> ;
00167 
00168    <a class="code" href="thd__delete_8c.html#a2">THD_delete_3dim_dataset</a>( dset , False ) ; dset = NULL ;
00169 
00170 }
</pre></div>    </td>
  </tr>
</table>
<a name="a14" doxytag="3dFWHM.c::get_options"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void get_options </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00226">226</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="afni__logger_8c-source.html#l00040">AFNI_logger()</a>, <a class="el" href="FD2_8c-source.html#l02635">argc</a>, <a class="el" href="2dImReg_8c-source.html#l00094">display_help_menu()</a>, <a class="el" href="3dFWHM_8c-source.html#l00133">FWHM_error()</a>, <a class="el" href="3dFWHM_8c-source.html#l00091">input_options::infilename</a>, <a class="el" href="plug__deconvolve_8c-source.html#l00308">initialize_options()</a>, <a class="el" href="mcw__malloc_8h-source.html#l00050">malloc</a>, <a class="el" href="3dFWHM_8c-source.html#l00092">input_options::maskfilename</a>, <a class="el" href="3dFWHM_8c-source.html#l00043">MAX_NAME_LENGTH</a>, <a class="el" href="3dFWHM_8c-source.html#l00101">input_options::outfilename</a>, <a class="el" href="3dFWHM_8c-source.html#l00034">PROGRAM_NAME</a>, and <a class="el" href="3dFWHM_8c-source.html#l00100">input_options::quiet</a>.
<p>
<div class="fragment"><pre>00227 {
00228   <span class="keywordtype">int</span> nopt = 1;                  <span class="comment">/* input option argument counter */</span>
00229   <span class="keywordtype">int</span> ival;                      <span class="comment">/* integer input */</span>
00230   <span class="keywordtype">float</span> fval;                    <span class="comment">/* float input */</span>
00231   <span class="keywordtype">char</span> message[<a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>];            <span class="comment">/* error message */</span>
00232 
00233   
00234   <span class="comment">/*----- does user request help menu? -----*/</span>
00235   <span class="keywordflow">if</span> (<a class="code" href="FD2_8c.html#a411">argc</a> &lt; 2 || strncmp(argv[1], <span class="stringliteral">"-help"</span>, 5) == 0)  <a class="code" href="2dImReg_8c.html#a11">display_help_menu</a>();  
00236   
00237   
00238   <span class="comment">/*----- add to program log -----*/</span>
00239   <a class="code" href="afni__logger_8c.html#a4">AFNI_logger</a> (<a class="code" href="3dFWHM_8c.html#a0">PROGRAM_NAME</a>,<a class="code" href="FD2_8c.html#a411">argc</a>,argv); 
00240 
00241 
00242   <span class="comment">/*----- initialize the input options -----*/</span>
00243   <a class="code" href="plug__deconvolve_8c.html#a67">initialize_options</a> (option_data);
00244     
00245 
00246   <span class="comment">/*----- main loop over input options -----*/</span>
00247   <span class="keywordflow">while</span> (nopt &lt; <a class="code" href="FD2_8c.html#a411">argc</a> )
00248     {
00249       
00250       <span class="comment">/*-----   -dset filename   -----*/</span>
00251       <span class="keywordflow">if</span> (strncmp(argv[nopt], <span class="stringliteral">"-dset"</span>, 5) == 0)
00252         {
00253           nopt++;
00254           <span class="keywordflow">if</span> (nopt &gt;= <a class="code" href="FD2_8c.html#a411">argc</a>)  <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"need argument after -dset "</span>);
00255           option_data-&gt;<a class="code" href="structinput__options.html#m0">infilename</a> = <a class="code" href="mcw__malloc_8h.html#a1">malloc</a> (<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * <a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>);
00256           strcpy (option_data-&gt;<a class="code" href="structinput__options.html#m0">infilename</a>, argv[nopt]);
00257           nopt++;
00258           <span class="keywordflow">continue</span>;
00259         }
00260 
00261       
00262       <span class="comment">/*-----   -mask filename   -----*/</span>
00263       <span class="keywordflow">if</span> (strncmp(argv[nopt], <span class="stringliteral">"-mask"</span>, 5) == 0)
00264         {
00265           nopt++;
00266           <span class="keywordflow">if</span> (nopt &gt;= <a class="code" href="FD2_8c.html#a411">argc</a>)  <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"need argument after -mask "</span>);
00267           option_data-&gt;<a class="code" href="structinput__options.html#m1">maskfilename</a> = <a class="code" href="mcw__malloc_8h.html#a1">malloc</a> (<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * <a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>);
00268           strcpy (option_data-&gt;<a class="code" href="structinput__options.html#m1">maskfilename</a>, argv[nopt]);
00269           nopt++;
00270           <span class="keywordflow">continue</span>;
00271         }
00272 
00273       
00274       <span class="comment">/*-----   -quiet q  -----*/</span>
00275       <span class="keywordflow">if</span> (strncmp(argv[nopt], <span class="stringliteral">"-quiet"</span>, 6) == 0)
00276         {
00277           option_data-&gt;<a class="code" href="structinput__options.html#m9">quiet</a> = 1;
00278           nopt++;
00279           <span class="keywordflow">continue</span>;
00280         }
00281 
00282 
00283       <span class="comment">/*-----   -out filename   -----*/</span>
00284       <span class="keywordflow">if</span> (strncmp(argv[nopt], <span class="stringliteral">"-out"</span>, 4) == 0)
00285         {
00286           nopt++;
00287           <span class="keywordflow">if</span> (nopt &gt;= <a class="code" href="FD2_8c.html#a411">argc</a>)  <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"need argument after -out "</span>);
00288           option_data-&gt;<a class="code" href="structinput__options.html#m10">outfilename</a> = <a class="code" href="mcw__malloc_8h.html#a1">malloc</a> (<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * <a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>);
00289           strcpy (option_data-&gt;<a class="code" href="structinput__options.html#m10">outfilename</a>, argv[nopt]);
00290           nopt++;
00291           <span class="keywordflow">continue</span>;
00292         }
00293       
00294 
00295       <span class="comment">/*----- unknown command -----*/</span>
00296       <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"unrecognized command line option "</span>);
00297     }
00298   
00299 }
</pre></div>    </td>
  </tr>
</table>
<a name="a16" doxytag="3dFWHM.c::initialize"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void initialize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structinput__options.html">input_options</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fim</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fmask</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00318">318</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="FD2_8c-source.html#l02635">argc</a>, <a class="el" href="plug__nlfit_8c-source.html#l00248">check_for_valid_inputs()</a>, <a class="el" href="fim_8c-source.html#l00062">fim</a>, <a class="el" href="3dFWHM_8c-source.html#l00133">FWHM_error()</a>, <a class="el" href="NPstats_8c-source.html#l00066">get_dimensions()</a>, <a class="el" href="RSFgen_8c-source.html#l00204">get_options()</a>, <a class="el" href="3dFWHM_8c-source.html#l00091">input_options::infilename</a>, <a class="el" href="mcw__malloc_8h-source.html#l00050">malloc</a>, <a class="el" href="3dFWHM_8c-source.html#l00092">input_options::maskfilename</a>, and <a class="el" href="NPstats_8c-source.html#l00191">read_afni_data()</a>.
<p>
<div class="fragment"><pre>00320 {
00321 
00322 
00323   <span class="comment">/*----- allocate memory space for input options -----*/</span>   
00324   *option_data = (<a class="code" href="structinput__options.html">input_options</a> *) <a class="code" href="mcw__malloc_8h.html#a1">malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structinput__options.html">input_options</a>));
00325   <span class="keywordflow">if</span> (*option_data == NULL)
00326     <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"memory allocation error"</span>);
00327   
00328   <span class="comment">/*----- get command line inputs -----*/</span>
00329   <a class="code" href="RSFgen_8c.html#a24">get_options</a>(<a class="code" href="FD2_8c.html#a411">argc</a>, argv, *option_data);
00330 
00331   <span class="comment">/*----- check for valid inputs -----*/</span>
00332   <a class="code" href="plug__nlfit_8c.html#a38">check_for_valid_inputs</a> (*option_data);
00333 
00334   <span class="comment">/*-----  get data set dimensions -----*/</span>
00335   <a class="code" href="NPstats_8c.html#a6">get_dimensions</a> (*option_data);
00336 
00337   <span class="comment">/*----- allocate memory space for image data -----*/</span>   
00338   *<a class="code" href="fim_8c.html#a56">fim</a> = (<span class="keywordtype">float</span> *) <a class="code" href="mcw__malloc_8h.html#a1">malloc</a>( (*option_data)-&gt;nxyz * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) );
00339   <span class="keywordflow">if</span> (*<a class="code" href="fim_8c.html#a56">fim</a> == NULL)
00340     <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"memory allocation error"</span>);
00341   
00342   <span class="comment">/*----- read input data set -----*/</span>
00343   <a class="code" href="NPstats_8c.html#a8">read_afni_data</a> (*option_data, (*option_data)-&gt;<a class="code" href="structinput__options.html#m0">infilename</a>, *<a class="code" href="fim_8c.html#a56">fim</a>);
00344 
00345 
00346   <span class="comment">/*----- check for mask file -----*/</span>
00347   <span class="keywordflow">if</span> ((*option_data)-&gt;maskfilename != NULL)
00348     {
00349       <span class="comment">/*----- allocate memory space for mask data -----*/</span>   
00350       *fmask = (<span class="keywordtype">float</span> *) <a class="code" href="mcw__malloc_8h.html#a1">malloc</a>( (*option_data)-&gt;nxyz * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) );
00351       <span class="keywordflow">if</span> (*fmask == NULL)  <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"memory allocation error"</span>);
00352       
00353       <span class="comment">/*----- read mask data set -----*/</span>
00354       <a class="code" href="NPstats_8c.html#a8">read_afni_data</a> (*option_data, (*option_data)-&gt;<a class="code" href="structinput__options.html#m1">maskfilename</a>, *fmask);
00355       
00356     }
00357 
00358 }
</pre></div>    </td>
  </tr>
</table>
<a name="a13" doxytag="3dFWHM.c::initialize_options"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void initialize_options </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>option_data</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00212">212</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3dFWHM_8c-source.html#l00091">input_options::infilename</a>, <a class="el" href="3dFWHM_8c-source.html#l00092">input_options::maskfilename</a>, <a class="el" href="3dFWHM_8c-source.html#l00101">input_options::outfilename</a>, and <a class="el" href="3dFWHM_8c-source.html#l00100">input_options::quiet</a>.
<p>
<div class="fragment"><pre>00213 {
00214   option_data-&gt;<a class="code" href="structinput__options.html#m0">infilename</a> = NULL;    <span class="comment">/* name of input file */</span>
00215   option_data-&gt;<a class="code" href="structinput__options.html#m1">maskfilename</a> = NULL;  <span class="comment">/* name of mask file */</span>
00216   option_data-&gt;<a class="code" href="structinput__options.html#m9">quiet</a> = 0;            <span class="comment">/* generate screen output (default)  */</span>
00217   option_data-&gt;<a class="code" href="structinput__options.html#m10">outfilename</a> = NULL;   <span class="comment">/* name of output file */</span>
00218 }
</pre></div>    </td>
  </tr>
</table>
<a name="a20" doxytag="3dFWHM.c::main"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int main </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00608">608</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="FD2_8c-source.html#l02635">argc</a>, <a class="el" href="AlphaSim_8c-source.html#l00873">estimate_gfw()</a>, <a class="el" href="fim_8c-source.html#l00062">fim</a>, <a class="el" href="efence_8c-source.html#l00186">initialize()</a>, <a class="el" href="3dExtrema_8c-source.html#l01616">output_results()</a>, <a class="el" href="3dFWHM_8c-source.html#l00035">PROGRAM_AUTHOR</a>, <a class="el" href="3dFWHM_8c-source.html#l00036">PROGRAM_INITIAL</a>, <a class="el" href="3dFWHM_8c-source.html#l00037">PROGRAM_LATEST</a>, <a class="el" href="3dFWHM_8c-source.html#l00034">PROGRAM_NAME</a>, and <a class="el" href="AlphaSim_8c-source.html#l01387">terminate()</a>.
<p>
<div class="fragment"><pre>00609 {
00610   <a class="code" href="structinput__options.html">input_options</a> * option_data = NULL;
00611   <span class="keywordtype">float</span> * <a class="code" href="fim_8c.html#a56">fim</a> = NULL;
00612   <span class="keywordtype">float</span> * fmask = NULL;
00613   <span class="keywordtype">float</span> sx, sy, sz;
00614 
00615   
00616   <span class="comment">/*----- Identify software -----*/</span>
00617   printf (<span class="stringliteral">"\n\n"</span>);
00618   printf (<span class="stringliteral">"Program: %s \n"</span>, <a class="code" href="3dFWHM_8c.html#a0">PROGRAM_NAME</a>);
00619   printf (<span class="stringliteral">"Author:  %s \n"</span>, <a class="code" href="3dFWHM_8c.html#a1">PROGRAM_AUTHOR</a>); 
00620   printf (<span class="stringliteral">"Initial Release:  %s \n"</span>, <a class="code" href="3dFWHM_8c.html#a2">PROGRAM_INITIAL</a>);
00621   printf (<span class="stringliteral">"Latest Revision:  %s \n"</span>, <a class="code" href="3dFWHM_8c.html#a3">PROGRAM_LATEST</a>);
00622   printf (<span class="stringliteral">"\n"</span>);
00623 
00624 
00625   <span class="comment">/*----- program initialization -----*/</span>
00626   <a class="code" href="efence_8c.html#a26">initialize</a> (<a class="code" href="FD2_8c.html#a411">argc</a>, argv, &amp;option_data, &amp;<a class="code" href="fim_8c.html#a56">fim</a>, &amp;fmask);
00627 
00628 
00629   <span class="comment">/*----- estimate equivalent gaussian filter width -----*/</span>
00630   <a class="code" href="AlphaSim_8c.html#a20">estimate_gfw</a> (option_data, <a class="code" href="fim_8c.html#a56">fim</a>, fmask, &amp;sx, &amp;sy, &amp;sz );
00631   
00632   
00633   <span class="comment">/*----- generate requested output -----*/</span>
00634   <a class="code" href="3dExtrema_8c.html#a67">output_results</a> (option_data, sx, sy, sz);
00635   
00636   <span class="comment">/*----- terminate program -----*/</span>
00637   <a class="code" href="AlphaSim_8c.html#a27">terminate</a> (&amp;option_data, &amp;<a class="code" href="fim_8c.html#a56">fim</a>, &amp;fmask);
00638   
00639   exit(0);
00640 }
</pre></div>    </td>
  </tr>
</table>
<a name="a18" doxytag="3dFWHM.c::output_results"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void output_results </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sy</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00530">530</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3dFWHM_8c-source.html#l00516">DISP_SIG_RESULTS</a>, <a class="el" href="whirlgif_8c-source.html#l00671">fout</a>, <a class="el" href="3dFWHM_8c-source.html#l00133">FWHM_error()</a>, <a class="el" href="3dFWHM_8c-source.html#l00043">MAX_NAME_LENGTH</a>, and <a class="el" href="3dFWHM_8c-source.html#l00101">input_options::outfilename</a>.
<p>
<div class="fragment"><pre>00531 {
00532   <span class="keywordtype">char</span> message[<a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>];     <span class="comment">/* error message */</span>
00533   <span class="keywordtype">char</span> filename[<a class="code" href="3dFWHM_8c.html#a4">MAX_NAME_LENGTH</a>];    <span class="comment">/* output file name */</span> 
00534   FILE * <a class="code" href="whirlgif_8c.html#a34">fout</a>;
00535 
00536 
00537   <span class="comment">/*----- if output file has not been specified, use stdout -----*/</span>
00538   <span class="keywordflow">if</span> (option_data-&gt;<a class="code" href="structinput__options.html#m10">outfilename</a> == NULL)
00539     <a class="code" href="whirlgif_8c.html#a34">fout</a> = stdout;
00540   <span class="keywordflow">else</span>
00541     {
00542       <span class="comment">/*----- see if output file already exists -----*/</span>
00543       strcpy (filename, option_data-&gt;<a class="code" href="structinput__options.html#m10">outfilename</a>);
00544       <a class="code" href="whirlgif_8c.html#a34">fout</a> = fopen (filename, <span class="stringliteral">"r"</span>);
00545       <span class="keywordflow">if</span> (<a class="code" href="whirlgif_8c.html#a34">fout</a> != NULL)
00546         {
00547           sprintf (message, <span class="stringliteral">"file %s already exists. "</span>, filename); 
00548           <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (message);
00549         }
00550       
00551       <span class="comment">/*----- open file for output -----*/</span>
00552       <a class="code" href="whirlgif_8c.html#a34">fout</a> = fopen (filename, <span class="stringliteral">"w"</span>);
00553       <span class="keywordflow">if</span> (<a class="code" href="whirlgif_8c.html#a34">fout</a> == NULL)
00554         { 
00555           <a class="code" href="3dFWHM_8c.html#a10">FWHM_error</a> (<span class="stringliteral">"unable to write file "</span>);
00556         }
00557     }
00558   
00559   <span class="comment">/*----- print out the results -----*/</span>
00560   fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"\n\n"</span>);
00561   fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"Gaussian filter widths: \n"</span>);
00562 
00563 <span class="preprocessor">#if 0 </span>
00564 <span class="preprocessor"></span>  fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"sigmax = %5.2f   FWHMx = %5.2f \n"</span>, 
00565            sx, sx * 2.0*sqrt(2.0*log(2.0)));
00566   fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"sigmay = %5.2f   FWHMy = %5.2f \n"</span>, 
00567            sy, sy * 2.0*sqrt(2.0*log(2.0)));
00568   fprintf (<a class="code" href="whirlgif_8c.html#a34">fout</a>, <span class="stringliteral">"sigmaz = %5.2f   FWHMz = %5.2f \n\n"</span>, 
00569            sz, sz * 2.0*sqrt(2.0*log(2.0)));
00570 <span class="preprocessor">#endif</span>
00571 <span class="preprocessor"></span>
00572   <span class="comment">/* check for flag value of -1.0                      08 Mar 2004 [rickr] */</span>
00573   <a class="code" href="3dFWHM_8c.html#a7">DISP_SIG_RESULTS</a>(<span class="charliteral">'x'</span>, sx);
00574   <a class="code" href="3dFWHM_8c.html#a7">DISP_SIG_RESULTS</a>(<span class="charliteral">'y'</span>, sy);
00575   <a class="code" href="3dFWHM_8c.html#a7">DISP_SIG_RESULTS</a>(<span class="charliteral">'z'</span>, sz);
00576   
00577   <span class="comment">/* report any failures */</span>
00578   <span class="keywordflow">if</span> ( sx &lt; 0.0 || sy &lt; 0.0 || sz &lt; 0.0 )
00579     fprintf(stderr,
00580         <span class="stringliteral">"\n"</span>
00581         <span class="stringliteral">"** failure: some filter widths were not able to be estimated with\n"</span>
00582         <span class="stringliteral">"            this tool, such results were reported as 'NO_VALUE'\n"</span>);
00583 
00584   fclose(<a class="code" href="whirlgif_8c.html#a34">fout</a>);
00585 
00586 }
</pre></div>    </td>
  </tr>
</table>
<a name="a12" doxytag="3dFWHM.c::read_afni_data"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void read_afni_data </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ffim</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00179">179</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="3dANOVA_8h-source.html#l00218">DOPEN</a>, <a class="el" href="3ddata_8h-source.html#l02273">DSET_BRICK_FACTOR</a>, <a class="el" href="3ddata_8h-source.html#l02248">DSET_BRICK_TYPE</a>, <a class="el" href="3ddata_8h-source.html#l02287">DSET_PRINCIPAL_VALUE</a>, <a class="el" href="edt__coerce_8c-source.html#l00194">EDIT_coerce_scale_type()</a>, <a class="el" href="3dFWHM_8c-source.html#l00093">input_options::nx</a>, <a class="el" href="3dFWHM_8c-source.html#l00096">input_options::nxyz</a>, <a class="el" href="3dFWHM_8c-source.html#l00094">input_options::ny</a>, <a class="el" href="3dFWHM_8c-source.html#l00095">input_options::nz</a>, <a class="el" href="vp__shade_8c-source.html#l00200">nz</a>, <a class="el" href="3dANOVA_8h-source.html#l00241">SUB_POINTER</a>, and <a class="el" href="thd__delete_8c-source.html#l00105">THD_delete_3dim_dataset()</a>.
<p>
<div class="fragment"><pre>00181 {
00182   <span class="keywordtype">int</span> iv;                          <span class="comment">/* index number of intensity sub-brick */</span>
00183   <a class="code" href="structTHD__3dim__dataset.html">THD_3dim_dataset</a> * dset=NULL;    <span class="comment">/* data set pointer */</span>
00184   <span class="keywordtype">void</span> * vfim = NULL;              <span class="comment">/* image data pointer */</span>
00185   <span class="keywordtype">int</span> nx, ny, <a class="code" href="vp__shade_8c.html#a10">nz</a>, nxyz;            <span class="comment">/* data set dimensions in voxels */</span>
00186   
00187   nx = option_data-&gt;<a class="code" href="structinput__options.html#m2">nx</a>;
00188   ny = option_data-&gt;<a class="code" href="structinput__options.html#m3">ny</a>;
00189   <a class="code" href="vp__shade_8c.html#a10">nz</a> = option_data-&gt;<a class="code" href="structinput__options.html#m4">nz</a>;
00190   nxyz = option_data-&gt;<a class="code" href="structinput__options.html#m5">nxyz</a>;
00191   
00192   
00193   <span class="comment">/*----- read in the data -----*/</span>
00194   <a class="code" href="3dANOVA_8h.html#a7">DOPEN</a>(dset,filename) ;
00195   iv = <a class="code" href="3ddata_8h.html#a517">DSET_PRINCIPAL_VALUE</a>(dset) ;
00196   
00197   <span class="comment">/*----- convert it to floats (in ffim) -----*/</span>
00198   <a class="code" href="3dANOVA_8h.html#a8">SUB_POINTER</a>(dset,iv,0,vfim) ;
00199   <a class="code" href="edt__coerce_8c.html#a2">EDIT_coerce_scale_type</a>( nxyz , <a class="code" href="3ddata_8h.html#a514">DSET_BRICK_FACTOR</a>(dset,iv) ,
00200                           <a class="code" href="3ddata_8h.html#a507">DSET_BRICK_TYPE</a>(dset,iv),vfim ,      <span class="comment">/* input  */</span>
00201                           MRI_float               ,ffim  ) ;   <span class="comment">/* output */</span>
00202   
00203   <a class="code" href="thd__delete_8c.html#a2">THD_delete_3dim_dataset</a>( dset , False ) ; dset = NULL ;
00204 }
</pre></div>    </td>
  </tr>
</table>
<a name="a19" doxytag="3dFWHM.c::terminate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void terminate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structinput__options.html">input_options</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>option_data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fim</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fmask</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="3dFWHM_8c-source.html#l00594">594</a> of file <a class="el" href="3dFWHM_8c-source.html">3dFWHM.c</a>.
<p>
References <a class="el" href="fim_8c-source.html#l00062">fim</a>, and <a class="el" href="3dDeconvolve_8c-source.html#l03036">free</a>.
<p>
<div class="fragment"><pre>00595 {
00596   <a class="code" href="3dDeconvolve_8c.html#a14">free</a> (*option_data);   *option_data = NULL;
00597   <a class="code" href="3dDeconvolve_8c.html#a14">free</a> (*<a class="code" href="fim_8c.html#a56">fim</a>);           *<a class="code" href="fim_8c.html#a56">fim</a> = NULL;
00598   <span class="keywordflow">if</span> (*fmask != NULL)
00599     {  <a class="code" href="3dDeconvolve_8c.html#a14">free</a> (*fmask);       *fmask = NULL; }
00600 }
</pre></div>    </td>
  </tr>
</table>

                    
    
                    

                  </div>

                </div>

              
            </td>
            <!-- end of main content block -->

            <!-- start of right (by default at least) column -->
            
            <!-- end of the right (by default at least) column -->
          </tr>
        </tbody>
      </table>
      <!-- end column wrapper -->

      <div class="visualClear">&nbsp;</div>


      <hr class="netscape4" />

      
	<div id="portal-footer">


<span>

<a href="http://www.nih.gov">
<img src="http://afni.nimh.nih.gov/nihlogo.gif" border="0"
     alt="National Institutes of Health Logo"
     title="National Institutes of Health" />
</a>

&nbsp; 
&nbsp; 
&nbsp; &nbsp; 

<a href="http://www.nimh.nih.gov">
<img src="http://afni.nimh.nih.gov/nimhlogo.gif" border="0"
     alt="National Institute of Mental Health Logo"
     title="National Institute of Mental Health" />
</a>
&nbsp; &nbsp; &nbsp; 
&nbsp; 



<a href="http://www.dhhs.gov">
<img src="http://afni.nimh.nih.gov/dhhslogo.gif" border="0"
     alt="Department of Health and Human Services Logo"
     title="Department of Health and Human Services" />
</a>


&nbsp; &nbsp; 
&nbsp; 
&nbsp; 

<a href="http://www.firstgov.gov">
<img src="http://afni.nimh.nih.gov/firstgovlogo.gif"
     border="0" alt="FirstGov.Gov Logo" title="FirstGov.gov" />
</a>
 
&nbsp; &nbsp; 
&nbsp; &nbsp; 


</span>


</div>

	<div id="portal-colophon">

      <!--

	Please keep the Plone Powered button (or a textual link to us) if you use
	Plone on your site. It's a nice token of gratitude, and we appreciate your
	help in promoting the Plone name.

	Plone is powered by the combined forces of Zope and CMF, two absolutely
	great systems made by Zope Corporation (http://zope.com) and they in turn
	are based on the best programming language in the world - Python
	(http://www.python.org). We owe these guys a lot, thanks for making Plone
	possible!

      -->

      <a href="http://plone.org">
	<img src="http://afni.nimh.nih.gov/plone_powered.gif"
      height="15" width="80" alt="Powered by Plone"
      title="This Plone site was built using the Plone Content Management System. Click for more information." />
      </a>

      

      <p class="discreet">
	This site conforms to the following standards:
      </p>

      <ul>
	<li>
	  <a href="http://www.section508.gov">
	    <img src="http://afni.nimh.nih.gov/colophon_sec508.gif"
          height="15" width="80" alt="Section 508"
          title="This Plone site conforms to the US Government Section 508 Accessibility Guidelines." />
	  </a>
	</li>
	<li>
	  <a href="http://www.w3.org/WAI/WCAG1AA-Conformance"
      title="Explanation of WCAG Conformance">
	    <img src="http://afni.nimh.nih.gov/colophon_wai-aa.gif"
          height="15" width="80" alt="WCAG"
          title="This Plone site conforms to the W3C-WAI Web Content Accessibility Guidelines." />
	  </a>
	</li>
	<li>
	  <a href="http://validator.w3.org/check/referer">
	    <img src="http://afni.nimh.nih.gov/colophon_xhtml.png"
          height="15" width="80" alt="Valid XHTML"
          title="This Plone site is valid XHTML." />
	  </a>
	</li>
	<li>
	  <a href="http://jigsaw.w3.org/css-validator/check/referer">
	    <img src="http://afni.nimh.nih.gov/colophon_css.png"
          height="15" width="80" alt="Valid CSS"
          title="This Plone site was built with valid CSS." />
	  </a>
	</li>
	<li>
	  <a href="http://plone.org/browsersupport">
	    <img src="http://afni.nimh.nih.gov/colophon_anybrowser.png"
          height="15" width="80" alt="Usable in any browser"
          title="This Plone site is usable in any web browser." />
	  </a>
	</li>
      </ul>


    </div>
      

    </div>

  </body>
</html>

