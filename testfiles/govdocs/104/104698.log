commit 27421e211a39784694b597dbf35848b88363c248
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun Feb 1 11:00:16 2009 -0800

    Manually revert "mlock: downgrade mmap sem while populating mlocked regions"
    
    This essentially reverts commit 8edb08caf68184fb170f4f69c7445929e199eaea.
    
    It downgraded our mmap semaphore to a read-lock while mlocking pages, in
    order to allow other threads (and external accesses like "ps" et al) to
    walk the vma lists and take page faults etc.  Which is a nice idea, but
    the implementation does not work.
    
    Because we cannot upgrade the lock back to a write lock without
    releasing the mmap semaphore, the code had to release the lock entirely
    and then re-take it as a writelock.  However, that meant that the caller
    possibly lost the vma chain that it was following, since now another
    thread could come in and mmap/munmap the range.
    
    The code tried to work around that by just looking up the vma again and
    erroring out if that happened, but quite frankly, that was just a buggy
    hack that doesn't actually protect against anything (the other thread
    could just have replaced the vma with another one instead of totally
    unmapping it).
    
    The only way to downgrade to a read map _reliably_ is to do it at the
    end, which is likely the right thing to do: do all the 'vma' operations
    with the write-lock held, then downgrade to a read after completing them
    all, and then do the "populate the newly mlocked regions" while holding
    just the read lock.  And then just drop the read-lock and return to user
    space.
    
    The (perhaps somewhat simpler) alternative is to just make all the
    callers of mlock_vma_pages_range() know that the mmap lock got dropped,
    and just re-grab the mmap semaphore if it needs to mlock more than one
    vma region.
    
    So we can do this "downgrade mmap sem while populating mlocked regions"
    thing right, but the way it was done here was absolutely not correct.
    Thus the revert, in the expectation that we will do it all correctly
    some day.
    
    Cc: Lee Schermerhorn <lee.schermerhorn@hp.com>
    Cc: Rik van Riel <riel@redhat.com>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: stable@kernel.org
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 45c82b5a770be66845687a7d027c8b52946d59af
Merge: 1347e96... 7cff360...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:56:23 2009 -0800

    Merge branch 'header-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'header-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip: (90 commits)
      headers_check fix: x86, swab.h
      headers_check fix: x86, sigcontext32.h
      headers_check fix: x86, sigcontext.h
      headers_check fix: x86, ptrace-abi.h
      headers_check fix: x86, mtrr.h
      headers_check fix: x86, mce.h
      headers_check fix: x86, kvm.h
      headers_check fix: x86, e820.h
      headers_check fix: linux/rtnetlink.h
      headers_check fix: linux/nubus.h
      headers_check fix: video/uvesafb.h
      headers_check fix: video/sisfb.h
      headers_check fix: sound/hdsp.h
      headers_check fix: mtd/inftl-user.h
      headers_check fix: linux/virtio_net.h
      headers_check fix: linux/virtio_console.h
      headers_check fix: linux/virtio_blk.h
      headers_check fix: linux/videodev.h
      headers_check fix: linux/video_encoder.h
      headers_check fix: linux/video_decoder.h
      ...

commit 1347e965f5bcfffe82e56d2903ea4f32babaff4e
Merge: ac56b94... d7240b9...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:55:05 2009 -0800

    Merge branch 'core-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'core-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:
      generic-ipi: use per cpu data for single cpu ipi calls
      cpumask: convert lib/smp_processor_id to new cpumask ops
      signals, debug: fix BUG: using smp_processor_id() in preemptible code in print_fatal_signal()

commit ac56b94f8049b4c246cd86257ae6c03c0ac75a13
Merge: 5b2d3e6... 14819ea...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:54:30 2009 -0800

    Merge branch 'irq-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'irq-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:
      irq: export __set_irq_handler() and handle_level_irq()

commit 5b2d3e6d542c4c7009ba72e047c4c0633f2b5e26
Merge: f649043... b0a9b51...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:54:06 2009 -0800

    Merge branch 'timers-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'timers-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:
      hrtimer: prevent negative expiry value after clock_was_set()
      hrtimers: allow the hot-unplugging of all cpus
      hrtimers: increase clock min delta threshold while interrupt hanging

commit f6490438fce5902f840d1f0f905295077c635e7a
Merge: e81cfd2... ba2607f...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:53:30 2009 -0800

    Merge branch 'tracing-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'tracing-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:
      x86, ds, bts: cleanup/fix DS configuration
      ring-buffer: reset timestamps when ring buffer is reset
      trace: set max latency variable to zero on default
      trace: stop all recording to ring buffer on ftrace_dump
      trace: print ftrace_dump at KERN_EMERG log level
      ring_buffer: reset write when reserve buffer fail
      tracing/function-graph-tracer: fix a regression while suspend to disk
      ring-buffer: fix alignment problem

commit e81cfd214f97a26ca2b00564258ebcf099214cbb
Merge: 4b8d8ab... 7fc49f1...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:52:46 2009 -0800

    Merge branch 'x86-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip
    
    * 'x86-fixes-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:
      x86 setup: fix asm constraints in vesa_store_edid
      xen: make sysfs files behave as their names suggest
      x86: tone down mtrr_trim_uncached_memory() warning
      x86: correct the CPUID pattern for MSR_IA32_MISC_ENABLE availability

commit 4b8d8ab566932bfe023637025c76c0e90c655faf
Merge: c5e18af... 8dd2c9e...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:52:25 2009 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/lrg/voltage-2.6
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/lrg/voltage-2.6:
      leds: Fix bounds checking of wm8350->pmic.led
      regulator: move bq24022 init back to module_init instead of subsys_initcall

commit c5e18af910f4bc2e3d0732ea98b99c0fd884e73c
Merge: 878b861... 2d2eca4...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:52:02 2009 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus
    
    * 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus: (27 commits)
      MIPS: Alchemy: time.c build fix
      MIPS: RB532: Export rb532_gpio_set_func()
      MIPS: RB532: Update headers
      MIPS: RB532: Simplify dev3 init
      MIPS: RB532: Remove {get,set}_434_reg()
      MIPS: RB532: Move dev3 init code to devices.c
      MIPS: RB532: Fix set_latch_u5()
      MIPS: RB532: Fix init of rb532_dev3_ctl_res
      MIPS: RB532: Use driver_data instead of platform_data
      MIPS: RB532: Detect uart type, add platform device
      MIPS: RB532: remove useless CF GPIO initialisation
      MIPS: RB532: Auto disable GPIO alternate function
      MIPS: RB532: Add set_type() function to IRQ struct.
      MIPS: RC32434: Define io_map_base for PCI controller
      MIPS: RB532: Fix bit swapping in rb532_set_bit()
      MIPS: Use hardware watchpoints on all R1 and R2 CPUs.
      MIPS: Read watch registers with interrupts disabled.
      MIPS: Fix a typo in watchpoint register structure.
      MIPS: TXx9: Add support for TX4939 internal RTC
      MIPS: R2: Fix broken installation of cache error handler.
      ...

commit 878b8619f711280fd05845e21956434b5e588cc4
Author: Mikulas Patocka <mpatocka@redhat.com>
Date:   Fri Jan 30 15:27:14 2009 -0500

    Fix memory corruption in console selection
    
    Fix an off-by-two memory error in console selection.
    
    The loop below goes from sel_start to sel_end (inclusive), so it writes
    one more character.  This one more character was added to the allocated
    size (+1), but it was not multiplied by an UTF-8 multiplier.
    
    This patch fixes a memory corruption when UTF-8 console is used and the
    user selects a few characters, all of them 3-byte in UTF-8 (for example
    a frame line).
    
    When memory redzones are enabled, a redzone corruption is reported.
    When they are not enabled, trashing of random memory occurs.
    
    Signed-off-by: Mikulas Patocka <mpatocka@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit f984d024190d5df98e448e35aa9e89a46fe50bb9
Merge: fc8744a... 5d0932a...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:50:43 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-2.6
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-2.6:
      igb: fix link reporting when using sgmii
      igb: prevent skb_over panic w/ mtu smaller than 1K
      igb: Fix DCA errors and do not use context index for 82576
      ipv6: compile fix for ip6mr.c
      packet: Avoid lock_sock in mmap handler
      sfc: Replace stats_enabled flag with a disable count
      sfc: SFX7101/SFT9001: Fix AN advertisements
      sfc: SFT9001: Always enable XNP exchange on SFT9001 rev B
      sfc: Update board info for hardware monitor on SFN4111T-R5 and later
      sfc: Test for PHYXS faults whenever we cannot test link state bits
      sfc: Reinitialise the PHY completely in case of a PHY or NIC reset
      sfc: Fix post-reset MAC selection
      sfc: SFN4111T: Fix GPIO sharing between I2C and FLASH_CFG_1
      sfc: SFT9001: Fix speed reporting in 1G PHY loopback
      sfc: SFX7101: Remove workaround for bad link training
      sfc: SFT9001: Enable robust link training
      sky2: fix hard hang with netconsoling and iface going up

commit fc8744adc870a8d4366908221508bb113d8b72ee
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jan 31 15:08:56 2009 -0800

    Stop playing silly games with the VM_ACCOUNT flag
    
    The mmap_region() code would temporarily set the VM_ACCOUNT flag for
    anonymous shared mappings just to inform shmem_zero_setup() that it
    should enable accounting for the resulting shm object.  It would then
    clear the flag after calling ->mmap (for the /dev/zero case) or doing
    shmem_zero_setup() (for the MAP_ANON case).
    
    This just resulted in vma merge issues, but also made for just
    unnecessary confusion.  Use the already-existing VM_NORESERVE flag for
    this instead, and let shmem_{zero|file}_setup() just figure it out from
    that.
    
    This also happens to make it obvious that the new DRI2 GEM layer uses a
    non-reserving backing store for its object allocation - which is quite
    possibly not intentional.  But since I didn't want to change semantics
    in this patch, I left it alone, and just updated the caller to use the
    new flag semantics.
    
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 5d0932a5dd00d83df5d1e15eeffb6edf015a8579
Author: Alexander Duyck <alexander.h.duyck@intel.com>
Date:   Sat Jan 31 00:53:18 2009 -0800

    igb: fix link reporting when using sgmii
    
    When using sgmii the link was not being properly passed up to the driver
    from the underlying link management functions.  This change corrects it so
    that get_link_status is cleared when a link has been found.
    
    Signed-off-by: Alexander Duyck <alexander.h.duyck@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ec54d7d6e40b04c16dfce0e41e506198a20c8645
Author: Alexander Duyck <alexander.h.duyck@intel.com>
Date:   Sat Jan 31 00:52:57 2009 -0800

    igb: prevent skb_over panic w/ mtu smaller than 1K
    
    A panic has been observed with frame sizes smaller than 1K.  This has been
    root caused to the hardware spanning larger frames across multiple buffers
    and then reporting the original frame size in the first descriptor.  To
    prevent this we can enable set the LPE bit which in turn will restrict
    packet sizes to those set in the RLPML register.
    
    Signed-off-by: Alexander Duyck <alexander.h.duyck@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bbd98fe48a43464b4a044bc4cbeefad284d6aa80
Author: Alexander Duyck <alexander.h.duyck@intel.com>
Date:   Sat Jan 31 00:52:30 2009 -0800

    igb: Fix DCA errors and do not use context index for 82576
    
    82576 was being incorrectly flagged as needing a context index.  It does not as
    each ring has it's own table of 2 contexts.
    
    Driver was registering after registering the driver instead of the other way around.
    
    Signed-off-by: Alexander Duyck <alexander.h.duyck@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5d6e430d3bafe743b18dc443189093bf532e91ed
Author: Dave Jones <davej@redhat.com>
Date:   Sat Jan 31 00:51:49 2009 -0800

    ipv6: compile fix for ip6mr.c
    
    net/ipv6/ip6mr.c: In function 'pim6_rcv':
    net/ipv6/ip6mr.c:368: error: implicit declaration of function 'csum_ipv6_magic'
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7fc49f19813030f2e15ad2ccec5cb701f7f4a3ec
Author: Andreas Schwab <schwab@suse.de>
Date:   Tue Jan 27 21:45:57 2009 +0100

    x86 setup: fix asm constraints in vesa_store_edid
    
    Impact: fix potential miscompile (currently believed non-manifest)
    
    As the comment explains, the VBE DDC call can clobber any register.
    Tell the compiler about that fact.
    
    Signed-off-by: Andreas Schwab <schwab@suse.de>
    Signed-off-by: H. Peter Anvin <hpa@linux.intel.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 905db44087855e3c1709f538ecdc22fd149cadd8
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Fri Jan 30 14:12:06 2009 -0800

    packet: Avoid lock_sock in mmap handler
    
    As the mmap handler gets called under mmap_sem, and we may grab
    mmap_sem elsewhere under the socket lock to access user data, we
    should avoid grabbing the socket lock in the mmap handler.
    
    Since the only thing we care about in the mmap handler is for
    pg_vec* to be invariant, i.e., to exclude packet_set_ring, we
    can achieve this by simply using a new mutex.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Tested-by: Martin MOKREJŠ <mmokrejs@ribosome.natur.cuni.cz>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1974cc205e63cec4a17a6b3fca31fa4240ded77e
Author: Ben Hutchings <bhutchings@solarflare.com>
Date:   Thu Jan 29 18:00:07 2009 +0000

    sfc: Replace stats_enabled flag with a disable count
    
    Currently we use a spin-lock to serialise statistics fetches and also
    to inhibit them for short periods of time, plus a flag to
    enable/disable statistics fetches for longer periods of time, during
    online reset.  This was apparently insufficient to deal with the several
    reasons for stats being disabled.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit af4ad9bca0c4039355b20d760b4fd39afa48c59d
Author: Ben Hutchings <bhutchings@solarflare.com>
Date:   Thu Jan 29 17:59:37 2009 +0000

    sfc: SFX7101/SFT9001: Fix AN advertisements
    
    All 10Xpress PHYs require autonegotiation all the time; enforce this
    in the set_settings() method and do not treat it as a workaround.
    
    Remove claimed support for 100M HD mode since it is not supported by
    current firmware.
    
    Do not set speed override bits when AN is enabled, and do not use
    register 1.49192 for AN configuration as it can override what we set
    elsewhere.
    
    Always set the AN selector bits to 1 (802.3).
    
    Fix confusion between Next Page and Extended Next Page.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c9d5a53f060bb9ac6cd20d9768b4b75e22bc8689
Author: Ben Hutchings <bhutchings@solarflare.com>
Date:   Thu Jan 29 17:52:11 2009 +0000

    sfc: SFT9001: Always enable XNP exchange on SFT9001 rev B
    
    This workaround is not specific to rev A.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 44176b45d1aae04d99c505e6ee98d2d3c3fce173
Author: Ben Hutchings <bhutchings@solarflare.com>
Date:   Thu Jan 29 17:51:48 2009 +0000

    sfc: Update board info for hardware monitor on SFN4111T-R5 and later
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 67797763c60bfe3bbf99ef81ce1042e71678d109
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:51:15 2009 +0000

    sfc: Test for PHYXS faults whenever we cannot test link state bits
    
    Depending on the loopback mode, there may be no pertinent link state
    bits.  In this case we test the PHYXS RX fault bit instead.  Make
    sure to do this in all cases where there are no link state bits.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4b988280be13a1b4c17f51cc66948aef467e7601
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:50:51 2009 +0000

    sfc: Reinitialise the PHY completely in case of a PHY or NIC reset
    
    In particular, set pause advertising bits properly.
    
    A PHY reset is not necessary to recover from the register self-test,
    so use a "invisible" reset there instead.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0cc128387969753ae037401eb49e4bbb474186ea
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:49:59 2009 +0000

    sfc: Fix post-reset MAC selection
    
    Modify falcon_switch_mac() to always set NIC_STAT_REG, even if the the
    MAC is the same as it was before.  This ensures that the value is
    correct after an online reset.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2f08575389ac37ece5922094777442d8fdd8c00a
Author: Ben Hutchings <bhutchings@solarflare.com>
Date:   Thu Jan 29 17:49:29 2009 +0000

    sfc: SFN4111T: Fix GPIO sharing between I2C and FLASH_CFG_1
    
    Change sfn4111t_reset() to change only GPIO output enables so that it
    doesn't break subsequent I2C operations.
    
    Update comments to explain exactly what we're doing.
    
    Add a short sleep to make sure the FLASH_CFG_1 value is latched before
    any subsequent I2C operations.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8b9dc8dd447cfe27c0214761ced22a8e4aa58f5e
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:49:09 2009 +0000

    sfc: SFT9001: Fix speed reporting in 1G PHY loopback
    
    Instead of disabling AN in loopback, just prevent restarting AN and
    override the speed in sft9001_get_settings().
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2d18835d65b7433e7e6583f65395f8c01e7874af
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:48:43 2009 +0000

    sfc: SFX7101: Remove workaround for bad link training
    
    Early versions of the SFX7101 firmware could complete link training in
    a state where it would not adequately cancel noise (Solarflare bug
    10750).  We previously worked around this by resetting the PHY after
    seeing many Ethernet CRC errors.  This workaround is unsafe since it
    takes no account of the interval between errors; it also appears to
    be unnecessary with production firmware.  Therefore remove it.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 869b5b3888fbd2024af632e3648c00860ba3cca6
Author: Steve Hodgson <shodgson@solarflare.com>
Date:   Thu Jan 29 17:48:10 2009 +0000

    sfc: SFT9001: Enable robust link training
    
    Enable a firmware option that appears to be necessary for reliable
    operation.
    
    Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a11da890e4c9850411303efcf6514f048ca880ee
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Jan 30 13:45:31 2009 -0800

    sky2: fix hard hang with netconsoling and iface going up
    
    Printing anything over netconsole before hw is up and running is,
    of course, not going to work.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Stephen Hemminger <shemminger@vyatta.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8dd2c9e3128a5784a01084b52d5bb7efd4371ac6
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Sat Jan 17 16:06:40 2009 +0100

    leds: Fix bounds checking of wm8350->pmic.led
    
    Fix bounds checking of wm8350->pmic.led
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Signed-off-by: Liam Girdwood <lrg@slimlogic.co.uk>

commit 9bf503e6bec3f2d28298808454eebde031ab5b5b
Author: Philipp Zabel <philipp.zabel@gmail.com>
Date:   Sun Jan 18 14:32:27 2009 +0100

    regulator: move bq24022 init back to module_init instead of subsys_initcall
    
    This workaround was needed when regulator/ was not linked before both
    power/ and usb/otg/ in drivers/Makefile. Now that it is even linked
    before mfd/, this patch makes sure that bq24022 isn't probed before the
    GPIO expander is set up.
    
    Signed-off-by: Philipp Zabel <philipp.zabel@gmail.com>
    Signed-off-by: Liam Girdwood <lrg@slimlogic.co.uk>

commit b0a9b5111abf60ef07eade834f480e89004c7920
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Sun Jan 25 11:31:36 2009 +0100

    hrtimer: prevent negative expiry value after clock_was_set()
    
    Impact: prevent false positive WARN_ON() in clockevents_program_event()
    
    clock_was_set() changes the base->offset of CLOCK_REALTIME and
    enforces the reprogramming of the clockevent device to expire timers
    which are based on CLOCK_REALTIME. If the clock change is large enough
    then the subtraction of the timer expiry value and base->offset can
    become negative which triggers the warning in
    clockevents_program_event().
    
    Check the subtraction result and set a negative value to 0.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 94df7de0289bc2df3d6e85cd2ece52bf42682f45
Author: Sebastien Dugue <sebastien.dugue@bull.net>
Date:   Mon Dec 1 14:09:07 2008 +0100

    hrtimers: allow the hot-unplugging of all cpus
    
    Impact: fix CPU hotplug hang on Power6 testbox
    
    On architectures that support offlining all cpus (at least powerpc/pseries),
    hot-unpluging the tick_do_timer_cpu can result in a system hang.
    
    This comes from the fact that if the cpu going down happens to be the
    cpu doing the tick, then as the tick_do_timer_cpu handover happens after the
    cpu is dead (via the CPU_DEAD notification), we're left without ticks,
    jiffies are frozen and any task relying on timers (msleep, ...) is stuck.
    That's particularly the case for the cpu looping in __cpu_die() waiting
    for the dying cpu to be dead.
    
    This patch addresses this by having the tick_do_timer_cpu handover happen
    earlier during the CPU_DYING notification. For this, a new clockevent
    notification type is introduced (CLOCK_EVT_NOTIFY_CPU_DYING) which is triggered
    in hrtimer_cpu_notify().
    
    Signed-off-by: Sebastien Dugue <sebastien.dugue@bull.net>
    Cc: <stable@kernel.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 7f22391cbe82a80a9f891d8bd10fc28ff248d1e2
Author: Frederic Weisbecker <fweisbec@gmail.com>
Date:   Mon Dec 22 02:24:48 2008 +0100

    hrtimers: increase clock min delta threshold while interrupt hanging
    
    Impact: avoid timer IRQ hanging slow systems
    
    While using the function graph tracer on a virtualized system, the
    hrtimer_interrupt can hang the system on an infinite loop.
    
    This can be caused in several situations:
    
     - the hardware is very slow and HZ is set too high
    
     - something intrusive is slowing the system down (tracing under emulation)
    
    ... and the next clock events to program are always before the current time.
    
    This patch implements a reasonable compromise: if such a situation is
    detected, we share the CPUs time in 1/4 to process the hrtimer interrupts.
    This is enough to let the system running without serious starvation.
    
    It has been successfully tested under VirtualBox with 1000 HZ and 100 HZ
    with function graph tracer launched. On both cases, the clock events were
    increased until about 25 ms periodic ticks, which means 40 HZ.
    
    So we change a hard to debug hang into a warning message and a system that
    still manages to limp along.
    
    Signed-off-by: Frederic Weisbecker <fweisbec@gmail.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 2d2eca4d11933bd37a4944aae06e6122efffaea8
Author: Manuel Lauss <mano@roarinelk.homelinux.net>
Date:   Tue Jan 6 10:34:52 2009 +0100

    MIPS: Alchemy: time.c build fix
    
    In Linus' current -git the cpumask member is now a pointer.
    
    Signed-off-by: Manuel Lauss <mano@roarinelk.homelinux.net>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0fc6bc0d6e953f6dd80c286c889d8d581e8f8d7a
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Thu Jan 22 19:32:43 2009 +0100

    MIPS: RB532: Export rb532_gpio_set_func()
    
    This kernel symbol provides a way for drivers to switch on alternate
    function for a certain GPIO pin. Turning it off is done implicitly when
    changing the GPIO direction, as that would be fixed when using the given
    pin als alternate function.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3828ee047d3c8e0d0e8e9f4d738bd8593220299a
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Thu Jan 22 19:28:50 2009 +0100

    MIPS: RB532: Update headers
    
    Remove the {set,get}_434_reg() prototypes, as the functions have been
    removed. Also move the prototypes for {get,set}_latch_u5() to the correct
    place.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1c4db8e82808a804751be906e8c14bbe0a264a9c
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Mon Jan 19 23:42:54 2009 +0100

    MIPS: RB532: Simplify dev3 init
    
    As rb532_dev3_ctl_res is not used by any platform device, it can be dropped
    when not used for holding the physical address of the device 3 controller.
    
    Also a size of one byte should suffice when ioremapping the physical
    address mentioned above, as only a single byte is being read from and
    written to it.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4ca3803f81bca9081f17ef67ffca8b11790f608d
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Mon Jan 19 23:42:53 2009 +0100

    MIPS: RB532: Remove {get,set}_434_reg()
    
    These kernel symbols are unused. Also, since dev3 init has been moved to
    devices.c, set_434_reg() breaks compiling as it uses dev3.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 36f2db4b9c01689b1311d57a6297022d82000185
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Mon Jan 19 23:42:52 2009 +0100

    MIPS: RB532: Move dev3 init code to devices.c
    
    This code doesn't belong to gpio.c, as it's completely unrelated to
    GPIO. As dev1 and dev2 init code is in devices.c, it seems to be a more
    adequate place.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7060886fb745b705bcf189131eb49c50485ba233
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Mon Jan 19 23:42:51 2009 +0100

    MIPS: RB532: Fix set_latch_u5()
    
    The data to be written is just a byte, so use writeb instead of writel.
    Also, dev3.base contains the address, not the data so referencing here
    is wrong.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit deb1003329b65456c4e6702cd3bcc698d565a11e
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Mon Jan 19 23:42:50 2009 +0100

    MIPS: RB532: Fix init of rb532_dev3_ctl_res
    
    This register just contains the address of the actual resource, so
    initialisation has to be the same as cf_slot0_res and nand_slot0_res.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 94d2cc1b8b2bd2141e141a4f43bce9ab135bd9fd
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Thu Jan 15 15:41:44 2009 +0100

    MIPS: RB532: Use driver_data instead of platform_data
    
    As the korina ethernet driver uses platform_get_drvdata() to extract the
    driver specific data from the platform device, driver_data has to be
    used here.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1452fc7d178c37c6463c95c5cc6858c7b7f478c8
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Thu Jan 15 15:38:38 2009 +0100

    MIPS: RB532: Detect uart type, add platform device
    
    Auto-detection works just fine, so use it instead of specifying the type
    manually. Also define a platform device for the uart, as suggested by
    David Daney.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 84c2c562c101bd84ea0f796b9838296da1bf859e
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Fri Nov 28 20:46:22 2008 +0100

    MIPS: RB532: remove useless CF GPIO initialisation
    
    As the pata-rb532-cf driver calls gpio_direction_input(), the calls to
    rb532_gpio_set_func() and rb532_gpio_direction_input() are not needed since
    the alternate function is automatically being disabled when changing the
    GPIO pin direction.
    The later two calls to rb532_gpio_set_{ilevel,istat}() are implicitly being
    done by the IRQ initialisation of pata-rb532-cf.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 33763d571da995913299cd0509425decfa9e4be0
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Fri Nov 28 20:46:09 2008 +0100

    MIPS: RB532: Auto disable GPIO alternate function
    
    When a driver calls gpio_set_direction_{input,output}(), it obviously
    doesn't want the alternate function for that pin to be active (as the
    direction would not matter in that case). This patch ensures alternate
    function is disabled when the direction is being changed.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4aa0f4d7264bc4f54603de5db1ffcaf8912ddd23
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Fri Nov 28 20:45:10 2008 +0100

    MIPS: RB532: Add set_type() function to IRQ struct.
    
    Interrupt Group 4 mapps the GPIO pins enabled as interrupt sources;
    add defines to make this clear when addressing them later in code.
    
    The mapped GPIOs support triggering on either level high or low. To
    achieve this, the set_type() function calls rb532_gpio_set_ilevel() for
    interrupts of the above mentioned group.
    
    As there is no way to alter the triggering characteristics of the other
    interrupts, accept level triggering on status high only. (This is just a
    guess; but as the system boots fine and interrupt-driven devices (e.g.
    serial console) work with no implications, it seems to be right.)
    
    To clear a GPIO mapped IRQ, the source has to be cleared (i.e., the
    interrupt status bit of the corresponding GPIO pin). This is done inside
    rb532_disable_irq().
    
    After applying these changes I could undo most of my former "fixes" to
    pata-rb532-cf. Particularly all interrupt handling can be done
    generically via set_irq_type() as it was before.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fb91e2cb7d3d44356bb92411d6d6b7cb51ce156c
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Wed Nov 12 00:16:04 2008 +0100

    MIPS: RC32434: Define io_map_base for PCI controller
    
    The code is rather based on trial-and-error than knowledge. Verified Via
    Rhine functionality in PIO as well as MMIO mode.
    
    [Looks sane -- Ralf]
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Tested-by: Florian Fainelli <florian@openwrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5379a5fdf3cb2b23d00da2a1298167f9a1fb002a
Author: Phil Sutter <n0-1@freewrt.org>
Date:   Wed Nov 12 00:09:30 2008 +0100

    MIPS: RB532: Fix bit swapping in rb532_set_bit()
    
    The algorithm works unconditionally. If bitval is one, the first line is
    a no op and the second line sets the bit at offset position. Vice versa,
    if bitval is zero, the first line clears the bit at offset position and
    the second line is a no op.
    
    Signed-off-by: Phil Sutter <n0-1@freewrt.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f839490ab42a471f0b0a4b795df77a1af924fe05
Author: David Daney <ddaney@caviumnetworks.com>
Date:   Mon Jan 5 15:29:14 2009 -0800

    MIPS: Use hardware watchpoints on all R1 and R2 CPUs.
    
    The previous definition inadvertently omits Octeon which currently is
    treated as an architecture variant separate from MIPS32 and MIPS64.
    
    Signed-off-by: David Daney <ddaney@caviumnetworks.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8bc6d05b481aa7dc79c81b8ffac0da755e149643
Author: David Daney <ddaney@caviumnetworks.com>
Date:   Mon Jan 5 15:29:58 2009 -0800

    MIPS: Read watch registers with interrupts disabled.
    
    If a context switch occurred between the watch exception and reading the
    watch registers, it would be possible for the new process to corrupt their
    state.  Enabling interrupts only after the watch registers are read avoids
    this race.
    
    Signed-off-by: David Daney <ddaney@caviumnetworks.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7adbedaf4469dcdcd6a1ab9bdeb8ad854d4f9827
Author: David Daney <ddaney@caviumnetworks.com>
Date:   Wed Dec 24 15:44:26 2008 -0800

    MIPS: Fix a typo in watchpoint register structure.
    
    This fixes the ptrace ABI for watch registers, and should allow 64bit
    kernels to use the watch register support.
    
    Signed-off-by: David Daney <ddaney@caviumnetworks.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 65655b5a94f6fc7e6450e3e07f2687c523c71c08
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Jan 20 23:07:41 2009 +0900

    MIPS: TXx9: Add support for TX4939 internal RTC
    
    Add platform support to use rtc-tx4939 driver.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 42fe7ee31ff904b2419f02864938966c8f0b6edc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 28 18:48:23 2009 +0000

    MIPS: R2: Fix broken installation of cache error handler.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 634286f127bef8799cd04799d3e1d5471e8fd91c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 28 17:48:40 2009 +0000

    MIPS: IP27: Switch from DMA_IP27 to DMA_COHERENT
    
    The special IP27 DMA code selected by DMA_IP27 has been removed a while
    ago turning DMA_IP27 into almost a nop.  Also fixup the broken logic of
    its last users memcpy.S and memcpy-inatomic.s.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 732f0462d59721764843783d790a613613287b33
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 28 14:13:37 2009 +0000

    MIPS: Add return value checks to user_termio_to_kernel_termios()
    
    And while at it, convert all functions from macros to inline functions
    for sanity.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2d8965156b79dbfed722804c6036537c81699639
Author: Huang Weiyi <weiyi.huang@gmail.com>
Date:   Thu Jan 15 06:56:46 2009 +0800

    MIPS: Octeon: Remove duplicated #includes
    
    Signed-off-by: Huang Weiyi <weiyi.huang@gmail.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 915ec1e216a5b009ba621b1c5b5be49c85685e53
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 12 00:52:18 2009 +0000

    MIPS: atomic_*(): Change type of intermediate variables.
    
    This shaves of 1912 bytes of an IP27 defconfig kernel and avoids
    unexpected overflow behaviour in atomic_sub_if_positive.  Apply the same
    changes to the atomic64_* functions for consistency.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c7c1e3846bac1e4b8a8941f6a194812e28b0a519
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 12 00:09:13 2009 +0000

    MIPS: Port "mm: invoke oom-killer from page fault" from UML / x86
    
    Original commit 1c0fe6e3bda0464728c23c8d84aa47567e8b716c.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a8ca8b64e3fdfec17679cba0ca5ce6e3ffed092d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 11 18:44:49 2009 +0000

    MIPS: Avoid destructive invalidation on partial cachelines.
    
    See discussion e9c3a7c20901051031y528d0d31r18d44c5096c59e0@mail.gmail.com.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 012703e0fc9fb1d6cdf778c49f45b796a85ef5bc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 11 18:27:10 2009 +0000

    MIPS: SMTC: Fix build after recent creditial changes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 33bfad54b58cf05cfe6678c3ec9235d4bc8db4c2
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Jan 30 11:37:22 2009 -0800

    Allow opportunistic merging of VM_CAN_NONLINEAR areas
    
    Commit de33c8db5910cda599899dd431cc30d7c1018cbf ("Fix OOPS in
    mmap_region() when merging adjacent VM_LOCKED file segments") unified
    the vma merging of anonymous and file maps to just one place, which
    simplified the code and fixed a use-after-free bug that could cause an
    oops.
    
    But by doing the merge opportunistically before even having called
    ->mmap() on the file method, it now compares two different 'vm_flags'
    values: the pre-mmap() value of the new not-yet-formed vma, and previous
    mappings of the same file around it.
    
    And in doing so, it refused to merge the common file case, which adds a
    marker to say "I can be made non-linear".
    
    This fixes it by just adding a set of flags that don't have to match,
    because we know they are ok to merge.  Currently it's only that single
    VM_CAN_NONLINEAR flag, but at least conceptually there could be others
    in the future.
    
    Reported-and-acked-by: Hugh Dickins <hugh@veritas.com>
    Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
    Cc: Nick Piggin <npiggin@suse.de>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Greg KH <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 7cff3608d2553a045b676fa81b0cf54e4f2cc5ce
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:57:38 2009 +0530

    headers_check fix: x86, swab.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/asm/swab.h:4: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/asm/swab.h:7: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 2de548faa78c650bb20c4680ee3a225cca33a45d
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:55:20 2009 +0530

    headers_check fix: x86, sigcontext32.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/asm/sigcontext32.h:20: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit e59afe6a21dce7bb3c63ba4f894a3195ae3d5529
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:53:49 2009 +0530

    headers_check fix: x86, sigcontext.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/asm/sigcontext.h:5: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/asm/sigcontext.h:24: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 420ab35eef206d147973d26db14b5618868726be
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:52:16 2009 +0530

    headers_check fix: x86, ptrace-abi.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/asm/ptrace-abi.h:86: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/asm/ptrace-abi.h:93: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit d122072cc079d299e5191c9cbb6162ba8791624c
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:48:17 2009 +0530

    headers_check fix: x86, mtrr.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/asm/mtrr.h:61: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 999b697b9d8b15756e65da72c816ef4363a945a5
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:47:27 2009 +0530

    headers_check fix: x86, mce.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/asm/mce.h:7: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/asm/mce.h:29: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit cef3767852a9b1a7ff4a8dfe0969e2d32eb728df
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:46:08 2009 +0530

    headers_check fix: x86, kvm.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/asm/kvm.h:9: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/asm/kvm.h:16: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 999721ca6d0c2540341acb73ac9048cbd6b05d3a
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:44:58 2009 +0530

    headers_check fix: x86, e820.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/asm/e820.h:44: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 541c94f1d5ac2665fd15f1b827416f8c0b2f55cb
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:40:32 2009 +0530

    headers_check fix: linux/rtnetlink.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/rtnetlink.h:328: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit d5c72d7842c71403bc3d57ca05a8a1f96d81e262
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:39:17 2009 +0530

    headers_check fix: linux/nubus.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/nubus.h:232: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit de4d3795527b06c67e1333c5662f146b59c97e21
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:35:17 2009 +0530

    headers_check fix: video/uvesafb.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/video/uvesafb.h:5: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit dab9c5e15e9faaf00e22b5e708dd19c44800c824
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:34:29 2009 +0530

    headers_check fix: video/sisfb.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/video/sisfb.h:25: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/video/sisfb.h:78: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit bb9f113f5ca7d182256dee69bcaebd4c79062305
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:33:29 2009 +0530

    headers_check fix: sound/hdsp.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/sound/hdsp.h:33: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 70c2ed65fe4090c9b92512ee1e35dc6625539f90
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:32:35 2009 +0530

    headers_check fix: mtd/inftl-user.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/mtd/inftl-user.h:61: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9a0e0ac21ca2af4715808b97bd600f0aecd87240
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:31:05 2009 +0530

    headers_check fix: linux/virtio_net.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/virtio_net.h:28: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 8697325408d9be18fa24346c346b23fa56c3b190
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:29:33 2009 +0530

    headers_check fix: linux/virtio_console.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/virtio_console.h:15: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 982f8184f9a9251ba4e5c6d79ec32d25c0ad3cc8
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:27:58 2009 +0530

    headers_check fix: linux/virtio_blk.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/virtio_blk.h:21: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 98be96b85398499212bc77ae3076a69e20368428
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:26:01 2009 +0530

    headers_check fix: linux/videodev.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/videodev.h:53: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit a4c1d7c8c61969667a853d08b039507669463807
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:24:09 2009 +0530

    headers_check fix: linux/video_encoder.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/video_encoder.h:5: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 8b1e3a2f7f84484a8c208671adac39eb148c7d61
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:22:51 2009 +0530

    headers_check fix: linux/video_decoder.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/video_decoder.h:7: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 448314fc968252b0b95f74bbe63fdcaf41e6413d
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:21:19 2009 +0530

    headers_check fix: linux/taskstats.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/taskstats.h:44: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 6b6bcd0ed953ae0ed73af4759788fb8384bbaeed
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:20:04 2009 +0530

    headers_check fix: linux/synclink.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/synclink.h:209: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit e6faa002be269233bf1e8961e7e0a79ca3f2db8b
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:17:53 2009 +0530

    headers_check fix: linux/sound.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/sound.h:33: extern's make no sense in userspace
      usr/include/linux/sound.h:34: extern's make no sense in userspace
      usr/include/linux/sound.h:35: extern's make no sense in userspace
      usr/include/linux/sound.h:36: extern's make no sense in userspace
      usr/include/linux/sound.h:37: extern's make no sense in userspace
      usr/include/linux/sound.h:39: extern's make no sense in userspace
      usr/include/linux/sound.h:40: extern's make no sense in userspace
      usr/include/linux/sound.h:41: extern's make no sense in userspace
      usr/include/linux/sound.h:42: extern's make no sense in userspace
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit a788fd53aec9a439f6b8bf57888c30aea1176e1b
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:14:02 2009 +0530

    headers_check fix: linux/signalfd.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/signalfd.h:19: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 68622c61dc7971382f5d69cd5d881e618ea30414
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:11:32 2009 +0530

    headers_check fix: linux/random.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/random.h:39: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 7260a91666a3149181e7b78bbf73beebbb04f8fa
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:09:17 2009 +0530

    headers_check fix: linux/ppp_defs.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/ppp_defs.h:50: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit b8adfd3c753b47c47f626e032da7999530c316f0
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:07:05 2009 +0530

    headers_check fix: linux/pkt_sched.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/pkt_sched.h:32: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit ed307444d8f276d7052400c47d9f4c5393997c42
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:05:32 2009 +0530

    headers_check fix: linux/pkt_cls.h
    
    fix the following 'make headers_check' warning:
    
      linux/pkt_cls.h:122: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 06f43adba62f99de101616ffc5d0564aab237111
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 22:03:25 2009 +0530

    headers_check fix: linux/phonet.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/phonet.h:50: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit a81184c1f8cf8589a00894c20422982defc3f056
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:59:48 2009 +0530

    headers_check fix: linux/nfs_idmap.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/nfs_idmap.h:55: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit ee79a6415f911801eb7804704ac130088281b2d8
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:58:19 2009 +0530

    headers_check fix: linux/neighbour.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/neighbour.h:8: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 8ef342021a55e4237e593c7f6304d0caa7bf1232
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:56:32 2009 +0530

    headers_check fix: linux/msdos_fs.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/msdos_fs.h:100: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 4b7ae34277608a30346d076beb44cbc466aa73e5
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:54:23 2009 +0530

    headers_check fix: linux/minix_fs.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/minix_fs.h:34: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit df9c04ed3ff455aa5cb7c4bcddf4544fe54cfa33
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:50:39 2009 +0530

    headers_check fix: linux/irda.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/irda.h:127: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit d6d20f54847e27ed886e8285c208368ef3d42abb
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:49:07 2009 +0530

    headers_check fix: linux/ipx.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/ipx.h:13: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit e5144de521417b0f0eea74ece89acd437ecd32c9
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:47:52 2009 +0530

    headers_check fix: linux/ipv6_route.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/ipv6_route.h:42: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 5c6aa2badf1b97ead5ffec8094f0c6236e0c07c5
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:46:43 2009 +0530

    headers_check fix: linux/ipv6.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/ipv6.h:26: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 217a2291570b1e4c28cb6e4cd099707e456a09b8
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:44:19 2009 +0530

    headers_check fix: linux/ip6_tunnel.h
    
    fix the following 'make headers_check' warning:
    
      include/linux/ip6_tunnel.h:21: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 2df005b75ab910f789f099f81bb70b3aa37203a7
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:42:47 2009 +0530

    headers_check fix: linux/inet_diag.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/inet_diag.h:16: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit de8b0bcafabfb4400aa028282293ce7d52307433
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:36:04 2009 +0530

    headers_check fix: linux/igmp.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/igmp.h:31: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 65863dbc0833e06b905679f61450f05a68bae4c2
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:34:36 2009 +0530

    headers_check fix: linux/if_tr.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_tr.h:37: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 84ad40ebbaeb22fc665b1f307d32128c46e8d42d
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:32:52 2009 +0530

    headers_check fix: linux/if_strip.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_strip.h:22: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 0fe5a8fe0c145a6ff8f3daacd32f1824d0c021a9
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:31:29 2009 +0530

    headers_check fix: linux/if_ppp.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_ppp.h:96: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 85db53102dbf0816e9c5426c9322a64759e7166b
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:29:20 2009 +0530

    headers_check fix: linux/if_link.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_link.h:9: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit b06e936939931c5acb1ca5dfe1d02b4d2f7cb11f
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:27:59 2009 +0530

    headers_check fix: linux/if_hippi.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_hippi.h:82: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit ba7161387e82fbbdc4b49533aa1345bb7befda13
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:26:35 2009 +0530

    headers_check fix: linux/if_fc.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_fc.h:37: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 1759cb994c3ff51e69268379da1cdd96048a8268
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:25:00 2009 +0530

    headers_check fix: linux/if_addrlabel.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_addrlabel.h:15: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 680ee0bd2a9625965812c1209476168fd0704a00
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:21:01 2009 +0530

    headers_check fix: linux/if_addr.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/if_addr.h:8: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 1cc49ae2e6d241e5cfc2c52e3329f5ef8dd42f18
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:18:37 2009 +0530

    headers_check fix: linux/icmpv6.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/icmpv6.h:8: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit c244ae5b16dc31b5bea67e6d6e9d6ff654aee781
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:17:06 2009 +0530

    headers_check fix: linux/hiddev.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/hiddev.h:40: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit b08ead0527bcfdcab39a347b531701289485b484
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:15:34 2009 +0530

    headers_check fix: linux/hid.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/hid.h:69: extern's make no sense in userspace
      usr/include/linux/hid.h:76: extern's make no sense in userspace
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 237416fe05067237f0bcc6370d84c09b52fb776a
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:12:38 2009 +0530

    headers_check fix: linux/gfs2_ondisk.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/gfs2_ondisk.h:109: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 985f302cb42e18912c88a3d2f9d9008844045ee3
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:10:52 2009 +0530

    headers_check fix: linux/genetlink.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/genetlink.h:12: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 93c1c0e310b56acbd366a43b15260a1775481f24
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:09:18 2009 +0530

    headers_check fix: linux/errqueue.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/errqueue.h:6: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit f4aa1c30255278b7b50a1cd273c7b4a46f099a90
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:05:50 2009 +0530

    headers_check fix: linux/elf.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/elf.h:379: extern's make no sense in userspace
      usr/include/linux/elf.h:387: extern's make no sense in userspace
      usr/include/linux/elf.h:401: extern's make no sense in userspace
      usr/include/linux/elf.h:402: extern's make no sense in userspace
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 177a858ff8d71a8e7f8b0ef53ff49441e29c8fb1
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:04:44 2009 +0530

    headers_check fix: linux/elf-fdpic.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/elf-fdpic.h:62: extern's make no sense in userspace
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit bd71b5f734c66ad0134e308036b13d122907b8c6
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 21:01:11 2009 +0530

    headers_check fix: linux/efs_fs_sb.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/efs_fs_sb.h:49: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 4144147081b9d08e69055a780888fcbb7cfcbb8e
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:54:27 2009 +0530

    headers_check fix: linux/edd.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/edd.h:70: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 57d1780fab89d3736de0d24189129c17178448f0
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:52:54 2009 +0530

    headers_check fix: linux/dn.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/dn.h:75: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 37eb1f4c3320ed505fbe59a916635b2342c740e4
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:51:30 2009 +0530

    headers_check fix: linux/dlm_plock.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/dlm_plock.h:25: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 59e4cf19ede2d2725c1b336707c1077afdd3cf85
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:43:31 2009 +0530

    headers_check fix: linux/cgroupstats.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/cgroupstats.h:31: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 960066a919f1db57817df6d02e72b01542f1deed
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:41:51 2009 +0530

    headers_check fix: linux/cdrom.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/cdrom.h:155: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9fa91d99bfdd9582e43b6b9ab97678c51373c4ae
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:39:30 2009 +0530

    headers_check fix: linux/capability.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/capability.h:73: extern's make no sense in userspace
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 4502b80e44f1fc9af33f66053c6c99ae9dba32a6
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:36:52 2009 +0530

    headers_check fix: linux/blktrace_api.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/blktrace_api.h:96: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 1da9ebd5abb2e960c4ca4d49f7587e6c76b16ac0
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:34:15 2009 +0530

    headers_check fix: linux/bfs_fs.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/bfs_fs.h:24: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 5d461bfebe4be9ae8d25d4570d4eaa415ca76f0f
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:31:19 2009 +0530

    headers_check fix: linux/auto_fs4.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/auto_fs4.h:132: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit f757f603f7d52254120cbfcd967f67f663264c64
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:29:11 2009 +0530

    headers_check fix: linux/atmbr2684.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/atmbr2684.h:88: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 85c09569e563cbb9376f10da20ada42107dfef98
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:26:25 2009 +0530

    headers_check fix: linux/atalk.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/atalk.h:15: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit bd247b348aaa9f28a53a64df06c69d6f40ff2280
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:20:10 2009 +0530

    headers_check fix: linux/aio_abi.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/aio_abi.h:58: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 4c866d444078d931579c50c9ce3133709390287b
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:16:33 2009 +0530

    headers_check fix: usb/gadgetfs.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/usb/gadgetfs.h:21: include of <linux/types.h> is preferred over <asm/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit d8151585690d824ac5b60a94ef86f8bfd61478fa
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:15:47 2009 +0530

    headers_check fix: usb/cdc.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/usb/cdc.h:50: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 30f410a6d372f067df3d02e3db328720bf421c81
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:14:36 2009 +0530

    headers_check fix: tc_ematch/tc_em_text.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_ematch/tc_em_text.h:11: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit ac836c6f1b17f674e35a7e2784541bb8ab0bce38
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:13:41 2009 +0530

    headers_check fix: tc_ematch/tc_em_nbyte.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_ematch/tc_em_nbyte.h:8: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9976007a13e67b973f94c8d472ed615ac4cf8078
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:12:59 2009 +0530

    headers_check fix: tc_ematch/tc_em_meta.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_ematch/tc_em_meta.h:18: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit ba3a51e3b899c1bd34c18f84a1c6f7e5f99be850
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:12:01 2009 +0530

    headers_check fix: tc_ematch/tc_em_cmp.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_ematch/tc_em_cmp.h:8: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 5dbbf3bcae2f6b5dee1c33b3eeced00bcb6c4f71
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:11:22 2009 +0530

    headers_check fix: tc_act/tc_pedit.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_act/tc_pedit.h:19: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9c536d275823b8a6281894f4f8c2687f60578253
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:10:44 2009 +0530

    headers_check fix: tc_act/tc_mirred.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_act/tc_mirred.h:16: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 2d594c0c8aa46beb21be1c5c2b7141f89d206313
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:10:05 2009 +0530

    headers_check fix: tc_act/tc_gact.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/tc_act/tc_gact.h:19: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 550e978aa52e2ac3c493e8a0b36b368ade6dd2b4
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:07:35 2009 +0530

    headers_check fix: spi/spidev.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/spi/spidev.h:83: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit bcf74582af3feca80ec96cc21d0a26c938d1863e
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:06:44 2009 +0530

    headers_check fix: raid/md_p.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/raid/md_p.h:85: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 03cf1e0c3b4ee4ef51dc7eb197a4d098ad4873af
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:05:27 2009 +0530

    headers_check fix: nfsd/syscall.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/nfsd/syscall.h:12: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/nfsd/syscall.h:104: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit d7240b988017521ebf89edfadd42c0942f166850
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Thu Jan 29 10:08:01 2009 -0500

    generic-ipi: use per cpu data for single cpu ipi calls
    
    The smp_call_function can be passed a wait parameter telling it to
    wait for all the functions running on other CPUs to complete before
    returning, or to return without waiting. Unfortunately, this is
    currently just a suggestion and not manditory. That is, the
    smp_call_function can decide not to return and wait instead.
    
    The reason for this is because it uses kmalloc to allocate storage
    to send to the called CPU and that CPU will free it when it is done.
    But if we fail to allocate the storage, the stack is used instead.
    This means we must wait for the called CPU to finish before
    continuing.
    
    Unfortunatly, some callers do no abide by this hint and act as if
    the non-wait option is mandatory. The MTRR code for instance will
    deadlock if the smp_call_function is set to wait. This is because
    the smp_call_function will wait for the other CPUs to finish their
    called functions, but those functions are waiting on the caller to
    continue.
    
    This patch changes the generic smp_call_function code to use per cpu
    variables if the allocation of the data fails for a single CPU call. The
    smp_call_function_many will fall back to the smp_call_function_single
    if it fails its alloc. The smp_call_function_single is modified
    to not force the wait state.
    
    Since we now are using a single data per cpu we must synchronize the
    callers to prevent a second caller modifying the data before the
    first called IPI functions complete. To do so, I added a flag to
    the call_single_data called CSD_FLAG_LOCK. When the single CPU is
    called (which can be called when a many call fails an alloc), we
    set the LOCK bit on this per cpu data. When the caller finishes
    it clears the LOCK bit.
    
    The caller must wait till the LOCK bit is cleared before setting
    it. When it is cleared, there is no IPI function using it.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl>
    Acked-by: Jens Axboe <jens.axboe@oracle.com>
    Acked-by: Linus Torvalds <torvalds@linux-foundation.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit c01a25e7cf6dcb0fa69c155706d5dd1e76e53796
Merge: ae704e9... b9ec63f...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Jan 30 08:54:29 2009 -0800

    Merge branch 'for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/ext4
    
    * 'for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/ext4:
      ext4: Remove bogus BUG() check in ext4_bmap()
      ext4: Fix building with EXT4FS_DEBUG
      ext4: Initialize the new group descriptor when resizing the filesystem
      ext4: Fix ext4_free_blocks() w/o a journal when files have indirect blocks
      jbd2: On a __journal_expect() assertion failure printk "JBD2", not "EXT3-fs"
      ext3: Add sanity check to make_indexed_dir
      ext4: Add sanity check to make_indexed_dir
      ext4: only use i_size_high for regular files
      ext4: fix wrong use of do_div

commit ae704e9f92f87b12c5938b07245792857c7c9c14
Merge: dbeb170... 3a9a3f6...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Jan 30 08:46:42 2009 -0800

    Merge branch 'for-linus' of git://git.kernel.dk/linux-2.6-block
    
    * 'for-linus' of git://git.kernel.dk/linux-2.6-block:
      cfq-iosched: Allow RT requests to pre-empt ongoing BE timeslice
      block: add sysfs file for controlling io stats accounting
      Mark mandatory elevator functions in the biodoc.txt
      include/linux: Add bsg.h to the Kernel exported headers
      block: silently error an unsupported barrier bio
      block: Fix documentation for blkdev_issue_flush()
      block: add bio_rw_flagged() for testing bio->bi_rw
      block: seperate bio/request unplug and sync bits
      block: export SSD/non-rotational queue flag through sysfs
      Fix small typo in bio.h's documentation
      block: get rid of the manual directory counting in blktrace
      block: Allow empty integrity profile
      block: Remove obsolete BUG_ON
      block: Don't verify integrity metadata on read error

commit dbeb17016e4d0affccfa07f4e8f61feac75c5a18
Merge: 0461ec5... f99ec06...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Jan 30 08:41:36 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-2.6
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-2.6: (29 commits)
      tulip: fix 21142 with 10Mbps without negotiation
      drivers/net/skfp: if !capable(CAP_NET_ADMIN): inverted logic
      gianfar: Fix Wake-on-LAN support
      smsc911x: timeout reaches -1
      smsc9420: fix interrupt signalling test failures
      ucc_geth: Change uec phy id to the same format as gianfar's
      wimax: fix build issue when debugfs is disabled
      netxen: fix memory leak in drivers/net/netxen_nic_init.c
      tun: Add some missing TUN compat ioctl translations.
      ipv4: fix infinite retry loop in IP-Config
      net: update documentation ip aliases
      net: Fix OOPS in skb_seq_read().
      net: Fix frag_list handling in skb_seq_read
      netxen: revert jumbo ringsize
      ath5k: fix locking in ath5k_config
      cfg80211: print correct intersected regulatory domain
      cfg80211: Fix sanity check on 5 GHz when processing country IE
      iwlwifi: fix kernel oops when ucode DMA memory allocation failure
      rtl8187: Fix error in setting OFDM power settings for RTL8187L
      mac80211: remove Michael Wu as maintainer
      ...

commit 0461ec5bc7745b89a8ab67ba0ea497abd58a6301
Author: Paul Larson <pl@linux.vnet.ibm.com>
Date:   Fri Jan 30 10:21:49 2009 -0600

    Add enable_ms to jsm driver
    
    This fixes a crash observed when non-existant enable_ms function is
    called for jsm driver.
    
    Signed-off-by: Scott Kilau <Scott.Kilau@digi.com>
    Signed-off-by: Paul Larson <pl@linux.vnet.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 4ab0a9409af5fad74ad1fc9e46d5a8b460f353e9
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Sat Jan 10 21:58:09 2009 -0800

    cpumask: convert lib/smp_processor_id to new cpumask ops
    
    Impact: fix debug_smp_processor_id() for CONFIG_CPUMASK_OFFSTACK=y
    
    The scheduler now uses the new cpumask API, which deals up to
    nr_cpumask_bits, whereas the API used NR_CPUS bits.
    
    If CONFIG_CPUMASK_OFFSTACK=y these two are not equal, so the top bits
    are undefined.  Leading to bug 12518 "BUG: using smp_processor_id() in
    preemptible [00000000] code: dellWirelessCtl/..."
    
    The fix is simple: use the modern API in the check.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Mike Travis <travis@sgi.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 9e87b1e53f3c72c1196dc22cb359b5d6188a3729
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:04:03 2009 +0530

    headers_check fix: nfsd/nfsfh.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/nfsd/nfsfh.h:17: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/nfsd/nfsfh.h:28: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 3187cedf158687432cdf152eeee205f7b149f4ef
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:03:06 2009 +0530

    headers_check fix: nfsd/export.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/nfsd/export.h:13: include of <linux/types.h> is preferred over <asm/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9df27bab62e60d1f786abd0599af4a5e3192a784
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 20:00:47 2009 +0530

    headers_check fix: netfilter/xt_conntrack.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/netfilter/xt_conntrack.h:40: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit b852d36b86902abb272b0f2dd7a56dd2d17ea88c
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:59:53 2009 +0530

    headers_check fix: dvb/video.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/dvb/video.h:29: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/dvb/video.h:102: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 8996be9de98a9362a3192b866dd8ab9930e28ad9
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:58:00 2009 +0530

    headers_check fix: dvb/net.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/dvb/net.h:27: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/dvb/net.h:31: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit de189f078ee4ae74944e6827dff184a3ef1fc89b
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:56:41 2009 +0530

    headers_check fix: dvb/frontend.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/dvb/frontend.h:29: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/dvb/frontend.h:76: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit c86629c855800071314810881d1d2fb226ca9ec9
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:55:32 2009 +0530

    headers_check fix: dvb/dmx.h
    
    fix the following 'make headers_check' warnings:
    
      usr/include/linux/dvb/dmx.h:27: include of <linux/types.h> is preferred over <asm/types.h>
      usr/include/linux/dvb/dmx.h:90: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 15cf98ad2965aaefaa2f85332535ff39e48f9f4e
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:53:38 2009 +0530

    headers_check fix: dvb/audio.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/dvb/audio.h:133: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 9d6aa4c7ece26652fcbfe37bd45679eac5f69347
Author: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>
Date:   Fri Jan 30 19:50:25 2009 +0530

    headers_check fix: can/bcm.h
    
    fix the following 'make headers_check' warning:
    
      usr/include/linux/can/bcm.h:29: found __[us]{8,16,32,64} type without #include <linux/types.h>
    
    Signed-off-by: Jaswinder Singh Rajput <jaswinderrajput@gmail.com>

commit 3a9a3f6cc55418dd1525e636dccbbe13c394f652
Author: Divyesh Shah <dpshah@google.com>
Date:   Fri Jan 30 12:46:41 2009 +0100

    cfq-iosched: Allow RT requests to pre-empt ongoing BE timeslice
    
    This patch adds the ability to pre-empt an ongoing BE timeslice when a RT
    request is waiting for the current timeslice to complete. This reduces the
    wait time to disk for RT requests from an upper bound of 4 (current value
    of cfq_quantum) to 1 disk request.
    
    Applied Jens' suggeested changes to avoid the rb lookup and use !cfq_class_rt()
    and retested.
    
    Latency(secs) for the RT task when doing sequential reads from 10G file.
                           | only RT | RT + BE | RT + BE + this patch
    small (512 byte) reads | 143     | 163     | 145
    large (1Mb) reads      | 142     | 158     | 146
    
    Signed-off-by: Divyesh Shah <dpshah@google.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc58ba9468d94d62c56ab9b47173583ec140b165
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 23 10:54:44 2009 +0100

    block: add sysfs file for controlling io stats accounting
    
    This allows us to turn off disk stat accounting completely, for the cases
    where the 0.5-1% reduction in system time is important.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7598909e3ee2a08726276d6415b69dadb52d0d76
Author: Nikanth Karthikesan <knikanth@suse.de>
Date:   Tue Jan 27 09:29:24 2009 +0100

    Mark mandatory elevator functions in the biodoc.txt
    
    biodoc.txt mentions that elevator functions marked with * are mandatory, but
    no function is marked with *. Mark the 3 functions which should be
    implemented by any io scheduler.
    
    Signed-off-by: Nikanth Karthikesan <knikanth@suse.de>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a229fc61ef0ee3c30fd193beee0eeb87410227f1
Author: Boaz Harrosh <bharrosh@panasas.com>
Date:   Mon Jan 19 10:37:38 2009 +0100

    include/linux: Add bsg.h to the Kernel exported headers
    
    bsg.h in current form is perfectly suitable for user-mode
    consumption. It is needed together with scsi/sg.h for applications
    that want to interface with the bsg driver.
    
    Currently the few projects that use it would copy it over into
    the projects. But that is not acceptable for projects that need
    to provide source and devel packages for distros.
    
    This should also be submitted to stable 2.6.28 and 2.6.27 since bsg had
    a stable API since these Kernels and distro users will need the header
    for these kernels a swell
    
    Signed-off-by: Boaz Harrosh <bharrosh@panasas.com>
    Acked-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp>
    CC: stable@kernel.org
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cec0707e40ae25794b5a2de7b7f03c51961f80d9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 13 15:28:32 2009 +0100

    block: silently error an unsupported barrier bio
    
    This fixes a "regression" from 2.6.28, where the barrier probes that file
    systems may do would trigger additional end request warnings in dmesg.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dbdac9b71dff5d27885f82eb2cfca310861fdf9e
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Tue Jan 13 15:27:32 2009 +0100

    block: Fix documentation for blkdev_issue_flush()
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1dfa17f4ab8543d82caf4d36636b93916a18f456
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 6 09:21:49 2009 +0100

    block: add bio_rw_flagged() for testing bio->bi_rw
    
    The existing functions for checking bio->bi_rw are badly named. So lets
    mirror what we do for bio->bi_flags testing, use a properly named
    function so that it's immediately obvious what is being tested.
    
    Maintain compatability names for the old macros, eventually we'll get
    rid of these.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 213d9417fec62ef4c3675621b9364a667954d4dd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 6 09:16:05 2009 +0100

    block: seperate bio/request unplug and sync bits
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1308835ffffe6d61ad1f48c5c381c9cc47f683ec
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Wed Jan 7 12:22:39 2009 +0100

    block: export SSD/non-rotational queue flag through sysfs
    
    For some devices (i.e. CFA ATA) we can't reliably detect whether
    the device is of rotational or non-rotational type so we need to
    leave the final decision about this setting to the user-space.
    
    As a bonus do a minor CodingStyle fixup in queue_nomerges_store().
    
    Suggested-by: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 16642eb68216d8e0e136a99e514e9166e7125838
Author: Alberto Bertogli <albertito@blitiri.com.ar>
Date:   Mon Jan 5 10:18:53 2009 +0100

    Fix small typo in bio.h's documentation
    
    Signed-off-by: Alberto Bertogli <albertito@blitiri.com.ar>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f48fc4d32e24c0b6a18aad30305d819bcc68c049
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 10:17:25 2009 +0100

    block: get rid of the manual directory counting in blktrace
    
    It can result in a stuck blktrace system, if --kill is used.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 322316385dde5cd879e682bcb598c56d0659fb60
Author: Martin K. Petersen <martin.petersen@oracle.com>
Date:   Sun Jan 4 02:43:40 2009 -0500

    block: Allow empty integrity profile
    
    Allow a block device to allocate and register an integrity profile
    without providing a template.  This allows DM to preallocate a profile
    to avoid deadlocks during table reconfiguration.
    
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8ae372e3bb4acaca37ffa2ce54f4cf8dd60a94fa
Author: Martin K. Petersen <martin.petersen@oracle.com>
Date:   Sun Jan 4 02:43:39 2009 -0500

    block: Remove obsolete BUG_ON
    
    Now that bio_vecs are no longer cleared in bvec_alloc_bs() the following
    BUG_ON must go.
    
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7b24fc4d7eb611da367dea3aad45473050aacd6c
Author: Martin K. Petersen <martin.petersen@oracle.com>
Date:   Sun Jan 4 02:43:38 2009 -0500

    block: Don't verify integrity metadata on read error
    
    If we get an I/O error on a read request there is no point in doing a
    verify pass on the integrity buffer.  Adjust the completion path
    accordingly.
    
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b9ec63f78b425c0e16cc95605b5d4ff2dc228b97
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Fri Jan 30 00:00:24 2009 -0500

    ext4: Remove bogus BUG() check in ext4_bmap()
    
    The code to support journal-less ext4 operation added a BUG to
    ext4_bmap() which fired if there was no journal and the
    EXT4_STATE_JDATA bit was set in the i_state field.  This caused
    running the filefrag program (which uses the FIMBAP ioctl) to trigger
    a BUG().
    
    The EXT4_STATE_JDATA bit is only used for ext4_bmap(), and it's
    harmless for the bit to be set.  We could add a check in
    __ext4_journalled_writepage() and ext4_journalled_write_end() to only
    set the EXT4_STATE_JDATA bit if the journal is present, but that adds
    an extra test and jump instruction.  It's easier to simply remove the
    BUG check.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=12568
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Cc: stable@kernel.org

commit f2257b70b0f9b2fe8f2afd83fc6798dca75930b8
Merge: 1737ef7... a9ac49d...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:21:14 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6:
      cifs: make sure we allocate enough storage for socket address
      [CIFS] Make socket retry timeouts consistent between blocking and nonblocking cases
      [CIFS] some cleanup to dir.c prior to addition of posix_open
      [CIFS] revalidate parent inode when rmdir done within that directory
      [CIFS] Rename md5 functions to avoid collision with new rt modules
      cifs: turn smb_send into a wrapper around smb_sendv

commit 1737ef7598d3515fdc11cb9ba7e054f334404e04
Author: Alexander Beregalov <a.beregalov@gmail.com>
Date:   Thu Jan 29 02:30:56 2009 +0300

    sata_sil: Fix build breakage
    
    Commit e57db7b (SATA Sil: Blacklist system that spins off disks during ACPI power off)
     breaks build like the following, in both cases when CONFIG_DMI set or not.
    
            drivers/ata/sata_sil.c: In function 'sil_broken_system_poweroff':
            drivers/ata/sata_sil.c:713: error: implicit declaration of function 'dmi_first_match'
            drivers/ata/sata_sil.c:713: warning: initialization makes pointer from integer without a cast
    
      sata_sil.c should include dmi.h
    
    Signed-off-by: Alexander Beregalov <a.beregalov@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 242f45da5b7bf63c50f1f18301750712e7885dd6
Author: Bill Nottingham <notting@redhat.com>
Date:   Thu Jan 29 16:28:40 2009 -0800

    Documentation/Changes: add required versions for new filesystems
    
    btrfs requires version 0.18 of its tools, and squashfs requires 4.0.
    ext3 should use and ext4 requires v1.41.4 of e2fsprogs.
    
    Signed-off-by: Bill Nottingham <notting@redhat.com>
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    cc: Ted Tso <tytso@mit.edu>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 70221395ba980392ba98c1d78f6c9f77be03df9e
Author: Dan Carpenter <error27@gmail.com>
Date:   Thu Jan 29 16:28:28 2009 -0800

    fix emacs indenting howto filename expansion
    
    I don't think emacs understands tilde expansion, so use
    "expand-file-name" to do that.
    
    Signed-off-by: Dan Carpenter <error27@gmail.com>
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 0acbc6c651911dc9ffb4f59b34306bc1ccb751e5
Author: Teemu Likonen <tlikonen@iki.fi>
Date:   Thu Jan 29 16:28:16 2009 -0800

    Documentation: update CodingStyle tips for Emacs users
    
    With the previous Emacs tips example the kernel style was made available
    for files in the kernel-tree only. This patch updates the tip to add a
    separate cc-mode indent style ("linux-tabs-only"). This makes it easy to
    switch between different indent styles and also makes the kernel style
    easily available for any filetype mode (c++, awk, ...) that is managed
    by the Emacs cc-mode.
    
    Signed-off-by: Teemu Likonen <tlikonen@iki.fi>
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 5872fb94f85d2e4fdef94657bd14e1a492df9825
Author: Randy Dunlap <randy.dunlap@oracle.com>
Date:   Thu Jan 29 16:28:02 2009 -0800

    Documentation: move DMA-mapping.txt to Doc/PCI/
    
    Move DMA-mapping.txt to Documentation/PCI/.
    
    DMA-mapping.txt was supposed to be moved from Documentation/ to
    Documentation/PCI/.  The 00-INDEX files in those two directories
    were updated, along with a few other text files, but the file
    itself somehow escaped being moved, so move it and update more
    text files and source files with its new location.
    
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    cc:	Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit ca493d171b66e96f542501b7eb572bc8380f690d
Merge: 5488ace... dcbbcef...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:14:20 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging-2.6
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging-2.6:
      Staging: poch: fix verification of memory area
      Staging: usbip: usbip_start_threads(): handle kernel_thread failure
      staging: agnx: drivers/staging/agnx/agnx.h needs <linux/io.h>
      Staging: android: task_get_unused_fd_flags: fix the wrong usage of tsk->signal
      Staging: android: Add lowmemorykiller documentation.
      Staging: android: fix build error on 64bit boxes
      Staging: android: timed_gpio: Fix build to build on kernels after 2.6.25.
      Staging: android: binder: fix arm build errors
      Staging: meilhaus: fix Kbuild
      Staging: comedi: fix Kbuild

commit 5488ace40be22d3f23f58190ae48b2c8d4691f2b
Merge: 05986e2... 7cbcf22...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:14:05 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core-2.6
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core-2.6:
      driver-core: fix kernel-doc parameter name
      UIO: Add missing documentation of features added recently
      Sync patch for jp_JP/stable_kernel_rules.txt

commit 05986e264ee638b6b6151aea89c9f191278c30f1
Merge: 0d28088... de2cf59...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:13:22 2009 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound-2.6
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound-2.6:
      ASoC: OMAP: Initialize XCCR and RCCR registers in McBSP DAI driver
      ASoC: Fix null string usage with WM8753 DAIs
      ALSA: hda - add another MacBook Pro 4, 1 subsystem ID
      ALSA: hda - Fix compile warning with CONFIG_SND_JACK=n
      ALSA: hda - Add quirk for HP DV6700 laptop
      ALSA: hda - Fix PCM reference NID for STAC/IDT analog outputs

commit 0d280884961de51afd87465f72ade9e8876d1e26
Merge: 9b4d142... 766fb95...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:12:58 2009 -0800

    Merge branch 'linux-next' of git://git.infradead.org/ubi-2.6
    
    * 'linux-next' of git://git.infradead.org/ubi-2.6:
      UBI: allow direct user-space I/O
      UBI: fix resource de-allocation
      UBI: remove unused variable
      UBI: use nicer 64-bit math
      UBI: add ioctl compatibility
      UBI: constify file operations
      UBI: allow all ioctls
      UBI: remove unnecessry header inclusion
      UBI: improve ioctl commentaries
      UBI: add ioctl for is_mapped operation
      UBI: add ioctl for unmap operation
      UBI: add ioctl for map operation

commit 9b4d142d521963ee1c53cefcd1f9790ca32b5db7
Merge: 6e3eed9... bae7eb3...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:11:02 2009 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid:
      HID: document difference between hid_blacklist and hid_ignore_list
      HID: add antec-branded soundgraph imon devices to blacklist
      HID: fix reversed logic in disconnect testing of hiddev
      HID: adjust report descriptor fixup for MS 1028 receiver

commit 6e3eed9850064e38a98851ff91534bb32438b292
Merge: ceb5eb0... 05dfdbb...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:10:36 2009 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/rusty/linux-2.6-for-linus
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/rusty/linux-2.6-for-linus:
      lguest: Fix a memory leak with the lg object during launcher close
      lguest: disable the FORTIFY for lguest.
      lguest: typos fix

commit ceb5eb0cb3fe61d488aa76aba748409775a56daa
Merge: 726a669... 1448d7c...
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 18:09:41 2009 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ieee1394/linux1394-2.6
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ieee1394/linux1394-2.6:
      ieee1394: sbp2: add workarounds for 2nd and 3rd generation iPods
      firewire: sbp2: add workarounds for 2nd and 3rd generation iPods
      firewire: sbp2: fix DMA mapping leak on the failure path
      firewire: sbp2: define some magic numbers as macros
      firewire: sbp2: fix payload limit at S1600 and S3200
      ieee1394: sbp2: don't assume zero model_id or firmware_revision if there is none
      ieee1394: sbp2: fix payload limit at S1600 and S3200
      ieee1394: sbp2: update a help string
      ieee1394: support for speeds greater than S800
      firewire: core: optimize card shutdown
      ieee1394: ohci1394: increase AT req. retries, fix ack_busy_X from Panasonic camcorders and others
      firewire: ohci: increase AT req. retries, fix ack_busy_X from Panasonic camcorders and others
      firewire: ohci: change "context_stop: still active" log message
      firewire: keep highlevel drivers attached during brief connection loss
      firewire: unnecessary BM delay after generation rollover
      firewire: insist on successive self ID complete events

commit 726a6699267e36c66043a55b13dfeec3d9925452
Author: Andrew Morton <akpm@linux-foundation.org>
Date:   Thu Jan 29 14:25:27 2009 -0800

    drivers/gpu/drm/i915/intel_lvds.c: fix locking snafu
    
    s/unlock/lock/
    
    Addresses http://bugzilla.kernel.org/show_bug.cgi?id=12575
    
    Reported-by: Daniel Vetter <daniel@ffwll.ch>
    Cc: Dave Airlie <airlied@linux.ie>
    Acked-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Cc: Eric Anholt <eric@anholt.net>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 9df04e1f25effde823a600e755b51475d438f56b
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Thu Jan 29 14:25:26 2009 -0800

    epoll: drop max_user_instances and rely only on max_user_watches
    
    Linus suggested to put limits where the money is, and max_user_watches
    already does that w/out the need of max_user_instances.  That has the
    advantage to mitigate the potential DoS while allowing pretty generous
    default behavior.
    
    Allowing top 4% of low memory (per user) to be allocated in epoll watches,
    we have:
    
    LOMEM    MAX_WATCHES (per user)
    512MB    ~178000
    1GB      ~356000
    2GB      ~712000
    
    A box with 512MB of lomem, will meet some challenge in hitting 180K
    watches, socket buffers math teaches us.  No more max_user_instances
    limits then.
    
    Signed-off-by: Davide Libenzi <davidel@xmailserver.org>
    Cc: Willy Tarreau <w@1wt.eu>
    Cc: Michael Kerrisk <mtk.manpages@googlemail.com>
    Cc: Bron Gondwana <brong@fastmail.fm>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 3095eb87bb36ae880608fe3fc46cfd59ced1f319
Author: Frans Pop <elendil@planet.nl>
Date:   Thu Jan 29 14:25:25 2009 -0800

    hp-wmi: set initial docking state
    
    If the initial state is not set when the input device is set up, the first
    docking event after the module is loaded will be lost.
    
    Signed-off-by: Frans Pop <elendil@planet.nl>
    Acked-by: Matthew Garrett <mjg59@srcf.ucam.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit fb9f88e1dc76f9feb39d39c40a5d61aad6df4388
Author: Bharath Ramesh <bramesh@vt.edu>
Date:   Thu Jan 29 14:25:24 2009 -0800

    hwmon: applesmc: add support for MacPro 3 temperature sensors
    
    MacPro 3 have more temperature sensors than the previous MacPro's also the
    sensor THTG has been removed.  This patch add supports for the newer
    temperature sensors in the MacPro3.
    
    Signed-off-by: Bharath Ramesh <bramesh@vt.edu>
    Signed-off-by: Henrik Rydberg <rydberg@euromail.se>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit c189f4ec955e1fe4a2a2742d028aeecc52a5848a
Author: David Altobelli <david.altobelli@hp.com>
Date:   Thu Jan 29 14:25:23 2009 -0800

    hpilo: increment version
    
    Bump hpilo module version to indicate that the open/close bug is fixed.
    
    Signed-off-by: David Altobelli <david.altobelli@hp.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 839ec5452ebfd5905b9c69b20ceb640903a8ea1a
Author: Paul Menage <menage@google.com>
Date:   Thu Jan 29 14:25:22 2009 -0800

    cgroup: fix root_count when mount fails due to busy subsystem
    
    root_count was being incremented in cgroup_get_sb() after all error
    checking was complete, but decremented in cgroup_kill_sb(), which can be
    called on a superblock that we gave up on due to an error.  This patch
    changes cgroup_kill_sb() to only decrement root_count if the root was
    previously linked into the list of roots.
    
    Signed-off-by: Paul Menage <menage@google.com>
    Tested-by: Serge Hallyn <serue@us.ibm.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 804b3c28a4e4fa1c224571bf76edb534b9c4b1ed
Author: Paul Menage <menage@google.com>
Date:   Thu Jan 29 14:25:21 2009 -0800

    cgroups: add cpu_relax() calls in css_tryget() and cgroup_clear_css_refs()
    
    css_tryget() and cgroup_clear_css_refs() contain polling loops; these
    loops should have cpu_relax calls in them to reduce cross-cache traffic.
    
    Signed-off-by: Paul Menage <menage@google.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 1404f06565ee89e0ce04d4a5859c00b0e3a0dc8d
Author: Li Zefan <lizf@cn.fujitsu.com>
Date:   Thu Jan 29 14:25:21 2009 -0800

    cgroups: fix lock inconsistency in cgroup_clone()
    
    I fixed a bug in cgroup_clone() in Linus' tree in commit 7b574b7
    ("cgroups: fix a race between cgroup_clone and umount") without noticing
    there was a cleanup patch in -mm tree that should be rebased (now commit
    104cbd5, "cgroups: use task_lock() for access tsk->cgroups safe in
    cgroup_clone()"), thus resulted in lock inconsistency.
    
    Signed-off-by: Li Zefan <lizf@cn.fujitsu.com>
    Acked-by: Paul Menage <menage@google.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 945048ca36173315afa2f0c53bed21ba01a588c1
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Thu Jan 29 14:25:20 2009 -0800

    alpha: fix the BUG() macro
    
    The commit "alpha: teach the compiler that BUG doesn't return"
    (ed6b9b97f42c091630335bfb71a2931e6f86388b) moved the asm code into inline
    function which takes __FILE__ and __LINE__ as arguments.  This violates
    asm constrains there ("i" - an immediate operand with constant value), so
    that compile may result in warning or error, depending on compiler
    version.
    
    Just adding an infinite loop to the BUG() is sufficient.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Richard Henderson <rth@twiddle.net>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit ee0c468bb151aad23281660152d2894f1e214238
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Thu Jan 29 14:25:19 2009 -0800

    alpha: compile fixes
    
    - jensen build: fix conflicting declarations for pci_alloc_consistent()
      and undefined virt_to_phys();
    
    - SMP: arch/alpha/kernel/smp.c:124: warning: passing argument 2
           of '__cpu_test_and_set' discards qualifiers from pointer target type
      Interestingly, this only happens with gcc-4.2; gcc <= 4.1 and gcc-4.3
      are OK. Fixed with extra assignment.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Richard Henderson <rth@twiddle.net>
    Cc: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit e5d9a90c36e05dd080704ea58328c00f64facdc1
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Thu Jan 29 14:25:18 2009 -0800

    alpha: use syscall wrappers
    
    Convert OSF syscalls and add alpha specific SYSCALL_ALIAS() macro.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Richard Henderson <rth@twiddle.net>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 299b4eaa302138426d5a9ecd954de1f565d76c94
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Thu Jan 29 14:25:17 2009 -0800

    memcg: NULL pointer dereference at rmdir on some NUMA systems
    
    N_POSSIBLE doesn't means there is memory...and force_empty can
    visit invalid node which have no pgdat.
    
    To visit all valid nodes, N_HIGH_MEMORY should be used.
    
    Reported-by: Li Zefan <lizf@cn.fujitsu.com>
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Tested-by: Li Zefan <lizf@cn.fujitsu.com>
    Cc: Balbir Singh <balbir@linux.vnet.ibm.com>
    Cc: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 248ae0d43fe7f951352eedfff36572d4b75ce963
Author: Alex Buell <alex.buell@munted.org.uk>
Date:   Thu Jan 29 14:25:16 2009 -0800

    fbdev: incorrect URL given in drivers/video/Kconfig
    
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 6989d5651a16b49908069b514329d5114217ea0e
Author: Frans Pop <elendil@planet.nl>
Date:   Thu Jan 29 14:25:14 2009 -0800

    hp-wmi: fix regressions caused by missing if statement
    
    Error was introduced in commit fe8e4e039dc3 ("hp-wmi: handle
    rfkill_register() failure").
    
    Signed-off-by: Frans Pop <elendil@planet.nl>
    Acked-by: Larry Finger <Larry.Finger@lwfinger.net>
    Acked-by: Matthew Garrett <mjg@redhat.com>
    Cc: Matthew Garrett <mjg59@srcf.ucam.org>
    Cc: Len Brown <lenb@kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 8d50d369d1b3ccc4d96ce01f62146173ee7064ca
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Thu Jan 29 14:25:14 2009 -0800

    memcg: update document to mention that swapoff should be tested
    
    Considering the recently found problem "memcg: fix refcnt handling at
    swapoff", it's better to mention swapoff behavior in the memcg_test
    document.
    
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Acked-by: Balbir Singh <balbir@linux.vnet.ibm.com>
    Cc: Li Zefan <lizf@cn.fujitsu.com>
    Cc: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 85d9fc89fb0f0703df6444f260187c088a8d59ff
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Thu Jan 29 14:25:13 2009 -0800

    memcg: fix refcnt handling at swapoff
    
    Now, at swapoff, even while try_charge() fails, commit is executed.  This
    is a bug which turns the refcnt of cgroup_subsys_state negative.
    
    Reported-by: Li Zefan <lizf@cn.fujitsu.com>
    Tested-by: Li Zefan <lizf@cn.fujitsu.com>
    Tested-by: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Reviewed-by: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
    Cc: Balbir Singh <balbir@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 7460db567bbca76bf087d1694d792a1a96bdaa26
Author: Magnus Damm <damm@igel.co.jp>
Date:   Thu Jan 29 14:25:12 2009 -0800

    gpiolib: fix request related issue
    
    Fix request-already-requested handling in gpio_request().
    
    Signed-off-by: Magnus Damm <damm@igel.co.jp>
    Acked-by: David Brownell <dbrownell@users.sourceforge.net>
    Cc: <stable@kernel.org>		[2.6.28.x]
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 7bcc1bb1232de6efc0b85e0c7fe38e90b2436318
Author: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
Date:   Thu Jan 29 14:25:11 2009 -0800

    memcg: get/put parents at create/free
    
    The lifetime of struct cgroup and struct mem_cgroup is different and
    mem_cgroup has its own reference count for handling references from
    swap_cgroup.
    
    This causes strange problem that the parent mem_cgroup dies while child
    mem_cgroup alive, and this problem causes a bug in case of
    use_hierarchy==1 because res_counter_uncharge climbs up the tree.
    
    This patch is for avoiding it by getting the parent at create, and putting
    it at freeing.
    
    Signed-off-by: Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp>
    Reviewed-by; KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Cc: Balbir Singh <balbir@linux.vnet.ibm.com>
    Cc: Pavel Emelyanov <xemul@openvz.org>
    Cc: Li Zefan <lizf@cn.fujitsu.com>
    Cc: Paul Menage <menage@google.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit baef99a08a2e23d9386b47e53fa5f0d44fc98f66
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Thu Jan 29 14:25:10 2009 -0800

    cgroups: use hierarchy mutex in creation failure path
    
    Now, cgrp->sibling is handled under hierarchy mutex.
    error route should do so, too.
    
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Cc: Li Zefan <lizf@cn.fujitsu.com>
    Acked-by Paul Menage <menage@google.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 9e9e3cbc62da43c66e894d5a61fa08b427e25202
Author: Evgeniy Polyakov <zbr@ioremap.net>
Date:   Thu Jan 29 14:25:09 2009 -0800

    mm: OOM documentation update
    
    Signed-off-by: Evgeniy Polyakov <zbr@ioremap.net>
    Acked-by: David Rientjes <rientjes@google.com>
    Cc: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit dc19835df6c47ff676ad6c98722d5e529db5d74c
Author: Masami Hiramatsu <mhiramat@redhat.com>
Date:   Thu Jan 29 14:25:08 2009 -0800

    kprobes: fix module compilation error with CONFIG_KPROBES=n
    
    Define kprobes related data structures even if CONFIG_KPROBES is not set.
    This fixes compilation errors which occur if CONFIG_KPROBES is not set, in
    kprobe using modules.
    
    [akpm@linux-foundation.org: fix build for non-kprobes-supporting architectures]
    Reviewed-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Masami Hiramatsu <mhiramat@redhat.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 252523ef2421b803de4810876223e4d695f23ec6
Author: Robin Holt <holt@sgi.com>
Date:   Thu Jan 29 14:25:07 2009 -0800

    sgi-xpc: fix up stale DBUG_ON statements
    
    Clean up the stale DBUG_ON checks and add a couple new ones.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 17e2161654da4e6bdfd8d53d4f52e820ee93f423
Author: Robin Holt <holt@sgi.com>
Date:   Thu Jan 29 14:25:07 2009 -0800

    sgi-xpc: Remove NULL pointer dereference.
    
    If the bte copy fails, the attempt to retrieve payloads merely returns a
    null pointer deref and not NULL as was expected.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit 69b3bb65fa97a1e8563518dbbc35cd57beefb2d4
Author: Robin Holt <holt@sgi.com>
Date:   Thu Jan 29 14:25:06 2009 -0800

    sgi-xpc: ensure flags are updated before bte_copy
    
    The clearing of the msg->flags needs a barrier between it and the notify
    of the channel threads that the messages are cleaned and ready for use.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit de33c8db5910cda599899dd431cc30d7c1018cbf
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 29 17:46:42 2009 -0800

    Fix OOPS in mmap_region() when merging adjacent VM_LOCKED file segments
    
    As of commit ba470de43188cdbff795b5da43a1474523c6c2fb ("map: handle
    mlocked pages during map, remap, unmap") we now use the 'vma' variable
    at the end of mmap_region() to handle the page-in of newly mapped
    mlocked pages.
    
    However, if we merged adjacent vma's together, the vma we're using may
    be stale.  We historically consciously avoided using it after the merge
    operation, but that got overlooked when redoing the locked page
    handling.
    
    This commit simplifies mmap_region() by doing any vma merges early,
    avoiding the issue entirely, and 'vma' will always be valid.  As pointed
    out by Hugh Dickins, this depends on any drivers that change the page
    offset of flags to have set one of the VM_SPECIAL bits (so that they
    cannot trigger the early merge logic), but that's true in general.
    
    Reported-and-tested-by: Maksim Yevmenkin <maksim.yevmenkin@gmail.com>
    Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
    Cc: Nick Piggin <npiggin@suse.de>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

commit f99ec0649accb581cf3e8fcfeea796e82d05f4ea
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Thu Jan 29 17:35:04 2009 -0800

    tulip: fix 21142 with 10Mbps without negotiation
    
    with current kernels, tulip 21142 ethernet controllers fail to connect
    to a 10Mbps only (i.e. without negotiation-partner) network.  It used
    to work in 2.4 kernels.  Fix that.  Tested on a 21142 Rev 0x11.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c25b9abbc2c2c0da88e180c3933d6e773245815a
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Thu Jan 29 17:32:20 2009 -0800

    drivers/net/skfp: if !capable(CAP_NET_ADMIN): inverted logic
    
    Fix inverted logic
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e5664bb2a7fd8ae1bee1281c2e44653c471af9ca
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:   Thu Jan 29 17:31:13 2009 -0800

    gianfar: Fix Wake-on-LAN support
    
    commit 0f0ca340e57bd7446855fefd07a64249acf81223 ("phy: power
    management support") caused a regression in the gianfar driver.
    
    Now phylib turns off PHY power during suspend, and thus WOL
    doesn't work anymore.
    
    This patch workarounds the issue by enabling wakeup in the MDIO
    device, i.e. just restores the old behaviour for the gianfar
    driver. Note that this way all PHYs on a given MDIO bus won't
    be turned off during suspend, which isn't good from the power
    saving point of view.
    
    A proper, per netdevice wakeup management support will need
    a bit reworked phylib suspend/resume logic.
    
    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f307dbd88d82c4ccab7aec49613c366023b89cde
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Thu Jan 29 17:30:00 2009 -0800

    smsc911x: timeout reaches -1
    
    With a postfix decrement the timeout will reach -1 rather than 0,
    so the warning will not be issued.
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Acked-by: Steve Glendinning <steve.glendinning@smsc.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1609559547ae0ddc2e4829c7f78ac2c4869875b9
Author: Steve Glendinning <steve.glendinning@smsc.com>
Date:   Thu Jan 29 17:29:15 2009 -0800

    smsc9420: fix interrupt signalling test failures
    
    smsc9420 performs an interrupt signalling test when the interface is
    brought up.  The current code mistakenly sets its test flag to false
    AFTER enabling the software interrupt source, making failure quite
    likely.
    
    This patch changes the code to set the test flag BEFORE enabling
    interrupts. I've also removed an smp_wmb because the following spinlock
    provides an implicit memory barrier.
    
    Signed-off-by: Steve Glendinning <steve.glendinning@smsc.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b1c4a9dddf09fe99b8f88252718ac5b357363dc4
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:   Thu Jan 29 17:28:04 2009 -0800

    ucc_geth: Change uec phy id to the same format as gianfar's
    
    The commit b31a1d8b41513b96e9c7ec2f68c5734cef0b26a4 ("gianfar: Convert
    gianfar to an of_platform_driver") changes the gianfar's phy id to the
    format like "mdio@xxxx:xx", but uec still uses the old format like
    "xxxxxxxx:xx".  For the board whose UEC uses gianfar-mdio like
    MPC8568MDS, the phy can not be attached because of the incompatible
    phy id format. This patch changes uec's phy id to the same format as
    gianfar's.
    
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1af7ad51049d6a310a19d497960597198290ddfa
Author: Inaky Perez-Gonzalez <inaky@linux.intel.com>
Date:   Thu Jan 29 17:18:31 2009 -0800

    wimax: fix build issue when debugfs is disabled
    
    As reported by Toralf Förster and Randy Dunlap.
    
    - http://linuxwimax.org/pipermail/wimax/2009-January/000460.html
    
    - http://lkml.org/lkml/2009/1/29/279
    
    The definitions needed for the wimax stack and i2400m driver debug
    infrastructure was, by mistake, compiled depending on CONFIG_DEBUG_FS
    (by them being placed in the debugfs.c files); thus the build broke in
    2.6.29-rc3 when debugging was enabled (CONFIG_WIMAX_DEBUG) and
    DEBUG_FS was disabled.
    
    These definitions are always needed if debug is enabled at compile
    time (independently of DEBUG_FS being or not enabled), so moving them
    to a file that is always compiled fixes the issue.
    
    Signed-off-by: Inaky Perez-Gonzalez <inaky@linux.intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 05dfdbbd678ea2b642db73f48b75667a23d15484
Author: Mark Wallis <mwallis@serialmonkey.com>
Date:   Mon Jan 26 17:32:35 2009 +1100

    lguest: Fix a memory leak with the lg object during launcher close
    
    Fix a memory leak identified by Rusty Russell during LCA09 by
    kfree'ing the lg object instead of just clearing it when the
    launcher closes.
    
    Signed-off-by: Mark Wallis <mwallis@serialmonkey.com>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit b44d49ab0954accefba4c71274ab58abe1c25c52
Author: Tim 'mithro' Ansell <mithro@mithis.com>
Date:   Thu Jan 22 15:06:41 2009 +1100

    lguest: disable the FORTIFY for lguest.
    
    Makes all the warnings go away when compiling lguest on Ubuntu on
    Intrepid or greater.
    
    Signed-off-by: Timothy R Ansell <mithro@mithis.com>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 72410af921cbc9018da388ca1ddf75880a033ac1
Author: Atsushi SAKAI <sakaia@jp.fujitsu.com>
Date:   Fri Jan 16 20:39:14 2009 +0900

    lguest: typos fix
    
    3 points
    
    lguest_asm.S => i386_head.S
    LHCALL_BREAK => LHREQ_BREAK
    perferred    => preferred
    
    Signed-off-by: Atsushi SAKAI <sakaia@jp.fujitsu.com>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 584dbe9475313e117abf9d2af88164edfd429c9a
Author: Daniel Marjamäki <danielm77@spray.se>
Date:   Thu Jan 29 08:55:56 2009 +0000

    netxen: fix memory leak in drivers/net/netxen_nic_init.c
    
    For kernel bugzilla #12537:
    http://bugzilla.kernel.org/show_bug.cgi?id=12537
    
    Free memory.
    
    Signed-off-by: Daniel Marjamäki <danielm77@spray.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit df1c46b2b6876d0a1b1b4740f009fa69d95ebbc9
Author: David S. Miller <davem@davemloft.net>
Date:   Thu Jan 29 16:53:35 2009 -0800

    tun: Add some missing TUN compat ioctl translations.
    
    Based upon a report from Michael Tokarev <mjt@tls.msk.ru>:
    
    	Just saw in dmesg:
    
    	ioctl32(kvm:4408): Unknown cmd fd(9) cmd(800454cf){t:'T';sz:4} arg(ffc668e4) on /dev/net/tun
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9d8dba6c979fa99c96938c869611b9a23b73efa9
Author: Benjamin Zores <benjamin.zores@alcatel-lucent.fr>
Date:   Thu Jan 29 16:19:13 2009 -0800

    ipv4: fix infinite retry loop in IP-Config
    
    Signed-off-by: Benjamin Zores <benjamin.zores@alcatel-lucent.fr>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 58092d1e0a896eb1d9163d58f93df7ed704fa8e1
Author: Stephen Hemminger <shemminger@vyatta.com>
Date:   Thu Jan 29 16:16:31 2009 -0800

    net: update documentation ip aliases
    
    This documentation is old.  Add a short note to describe why aliases
    are no long necessary, and remove the old contact/edit info.
    
    Signed-off-by: Stephen Hemminger <shemminger@vyatta.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 71b3346d182355f19509fadb8fe45114a35cc499
Author: Shyam Iyer <shyam_iyer@dell.com>
Date:   Thu Jan 29 16:12:42 2009 -0800

    net: Fix OOPS in skb_seq_read().
    
    It oopsd for me in skb_seq_read. addr2line said it was
    linux-2.6/net/core/skbuff.c:2228, which is this line:
    
    
    	while (st->frag_idx < skb_shinfo(st->cur_skb)->nr_frags) {
    
    
    I added some printks in there and it looks like we hit this:
    
            } else if (st->root_skb == st->cur_skb &&
                       skb_shinfo(st->root_skb)->frag_list) {
                     st->cur_skb = skb_shinfo(st->root_skb)->frag_list;
                     st->frag_idx = 0;
                     goto next_skb;
            }
    
    
    
    Actually I did some testing and added a few printks and found that the
    st->cur_skb->data was 0 and hence the ptr used by iscsi_tcp was null.
    This caused the kernel panic.
    
     	if (abs_offset < block_limit) {
    -		*data = st->cur_skb->data + abs_offset;
    +		*data = st->cur_skb->data + (abs_offset - st->stepped_offset);
    
    I enabled the debug_tcp and with a few printks found that the code did
    not go to the next_skb label and could find that the sequence being
    followed was this -
    
    It hit this if condition -
    
            if (st->cur_skb->next) {
                    st->cur_skb = st->cur_skb->next;
                    st->frag_idx = 0;
                    goto next_skb;
    
    And so, now the st pointer is shifted to the next skb whereas actually
    it should have hit the second else if first since the data is in the
    frag_list.
    
            else if (st->root_skb == st->cur_skb &&
                     skb_shinfo(st->root_skb)->frag_list) {
                    st->cur_skb = skb_shinfo(st->root_skb)->frag_list;
                    goto next_skb;
            }
    
    Reversing the two conditions the attached patch fixes the issue for me
    on top of Herbert's patches.
    
    Signed-off-by: Shyam Iyer <shyam_iyer@dell.com>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 95e3b24cfb4ec0479d2c42f7a1780d68063a542a
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Jan 29 16:07:52 2009 -0800

    net: Fix frag_list handling in skb_seq_read
    
    The frag_list handling was broken in skb_seq_read:
    
    1) We didn't add the stepped offset when looking at the head
    are of fragments other than the first.
    
    2) We didn't take the stepped offset away when setting the data
    pointer in the head area.
    
    3) The frag index wasn't reset.
    
    This patch fixes both issues.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e125646ab56b490d0390b158e0afa9cccfc1f897
Author: Dhananjay Phadke <dhananjay@netxen.com>
Date:   Thu Jan 29 16:05:19 2009 -0800

    netxen: revert jumbo ringsize
    
    Reducing jumbo ring size below 1024 reduces throughput for old
    firmwares (3.4.216 and older) running on older (NX2031) chip,
    so restore it back to 1024.
    
    This was reduced in commit 32ec803348b4d5f1353e1d7feae30880b8b3e342
    ("netxen: reduce memory footprint").
    
    Raising jumbo ring size from 512 to 1024, adds ~4MB per port, but
    there's still big saving because of original patch (~20MB per port).
    
    Signed-off-by: Dhananjay Phadke <dhananjay@netxen.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ae9e47e9e864bc5f0a7a7e71dc3f287196b3626b
Merge: a4e6db0... be00937...
Author: David S. Miller <davem@davemloft.net>
Date:   Thu Jan 29 15:27:47 2009 -0800

    Merge branch 'master' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit be0093705c3ce98d73cac0ca8f93ea105cdf4e9c
Author: Bob Copeland <me@bobcopeland.com>
Date:   Thu Jan 22 08:44:16 2009 -0500

    ath5k: fix locking in ath5k_config
    
    ath5k_config updates the software context without taking sc->lock.
    
    Changes-licensed-under: 3-Clause-BSD
    
    Signed-off-by: Bob Copeland <me@bobcopeland.com>
    Acked-by: Nick Kossifidis <mickflemm@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 667ecd010d870f861a9e276aaaca8cb443ded8b3
Author: Luis R. Rodriguez <lrodriguez@atheros.com>
Date:   Thu Jan 22 15:05:43 2009 -0800

    cfg80211: print correct intersected regulatory domain
    
    When CONFIG_CFG80211_REG_DEBUG is enabled and an intersection
    occurs we are printing the regulatory domain passed by CRDA
    and indicating its the intersected regulatory domain. Lets fix
    this and print the intersection as originally intended.
    
    Signed-off-by: Luis R. Rodriguez <lrodriguez@atheros.com>
    Acked-by: Johannes Berg <johannes@sipsolutions.net>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 615aab4b75dfa77b00c372330d6f70edd2458bf9
Author: Luis R. Rodriguez <lrodriguez@atheros.com>
Date:   Thu Jan 22 15:05:46 2009 -0800

    cfg80211: Fix sanity check on 5 GHz when processing country IE
    
    This fixes two issues with the sanity check loop when processing
    the country IE:
    
    1. Do not use frequency for the current subband channel check,
       this was a big fat typo.
    2. Apply the 5 GHz 4-channel steps when considering max channel
       on each subband as was done with a recent patch.
    
    Signed-off-by: Luis R. Rodriguez <lrodriguez@atheros.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 1f304e4e3bb161163d9f5bc3c6467a2a6fa9b3ae
Author: Zhu, Yi <yi.zhu@intel.com>
Date:   Fri Jan 23 13:45:22 2009 -0800

    iwlwifi: fix kernel oops when ucode DMA memory allocation failure
    
    The patch fixes memcpy to NULL address when the ucode DMA allocation failure.
    
    This is a fix to bug
    http://www.intellinuxwireless.org/bugzilla/show_bug.cgi?id=1861
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: Reinette Chatre <reinette.chatre@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit eb83bbf57429ab80f49b413e3e44d3b19c3fdc5a
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jan 27 12:31:23 2009 -0600

    rtl8187: Fix error in setting OFDM power settings for RTL8187L
    
    After reports of poor performance, a review of the latest vendor driver
    (rtl8187_linux_26.1025.0328.2007) for RTL8187L devices was undertaken.
    
    A difference was found in the code used to index the OFDM power tables. When
    the Linux driver was changed, my unit works at a much greater range than
    before. I think this fixes Bugzilla #12380 and has been tested by at least
    two other users.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Tested-by: Martín Ernesto Barreyro <barreyromartin@gmail.com>
    Cc: Stable <stable@kernel.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e6a271651e9e7810c1802bb8375967f6efa4baea
Author: Johannes Berg <johannes@sipsolutions.net>
Date:   Mon Jan 26 19:35:28 2009 +0100

    mac80211: remove Michael Wu as maintainer
    
    His email address keeps bouncing, and he's not interested in mac80211
    patches etc. anyway.
    
    Signed-off-by: Johannes Berg <johannes@sipsolutions.net>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 1448d7c6a2ff96d3b52ecae49e2d0f046a097fe0
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Jan 29 00:13:20 2009 +0100

    ieee1394: sbp2: add workarounds for 2nd and 3rd generation iPods
    
    as per https://bugs.launchpad.net/bugs/294391.  These got one sample of
    each iPod generation going.  However there still occurred I/O stalls
    with the 3rd generation iPod which remain undiagnosed at the time of
    this writing.
    
    Acked-by: Jarod Wilson <jarod@redhat.com>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit c8c4707cf7ca8ff7dcc1653447e48cb3de0bf114
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Jan 29 00:11:59 2009 +0100

    firewire: sbp2: add workarounds for 2nd and 3rd generation iPods
    
    According to https://bugs.launchpad.net/bugs/294391
      - 3rd generation iPods need the "fix capacity" workaround after all
        (apparently they crash after the last sector was accessed),
      - 2nd generation iPods need the "128 kB maximum request size"
        workaround.
    
    Alas both iPod generations feature the same model ID in the config ROM,
    hence we can only define a shared quirks list entry for them.  Luckily
    the fix capacity workaround did not show a negative effect in Jarod's
    tests with 2nd gen. iPod.
    
    A side note:  Apple computers in target mode (or at least an x86 Mac
    mini) don't have firmware_version and model_id, hence none of the iPod
    quirks list entries is active for them.
    
    Tested-by: Jarod Wilson <jarod@redhat.com>
    Acked-by: Jarod Wilson <jarod@redhat.com>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit de2cf591bc876f7a63809d8955855ab074588c30
Merge: c9de36f... 2a88464...
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Jan 29 14:47:56 2009 +0100

    Merge branch 'fix/hda' into for-linus

commit c9de36f2a230919bee95f05ba27ed10ce4850409
Merge: 18e352e... ef390c0...
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Jan 29 14:47:53 2009 +0100

    Merge branch 'fix/asoc' into for-linus

commit ef390c0b6e3f4d2d2d43f53f4bd35e1884571a14
Author: Misael Lopez Cruz <x0052729@ti.com>
Date:   Thu Jan 29 13:29:46 2009 +0200

    ASoC: OMAP: Initialize XCCR and RCCR registers in McBSP DAI driver
    
    This patch explicitly initializes McBSP Transmit Configuration
    Control Register (XCCR) and Receive Configuration Control
    Register (RCCR) to their reset values. Reset values are 26 ns
    of DX delay and Transmit DMA disabled for XCCR register;
    receive full cycle mode enabled and Receive DMA disabled for
    RCCR register.
    
    This patch requires a counterpart in OMAP McBSP driver before
    to apply it. The required changes in McBSP were sent and approved
    in linux-omap mailing list and patch is going upstream
    (commit 3127f8f8595a064b3f1a1837fea2177902589ac3 from linux-omap-2.6
    tree).
    
    Signed-off-by: Misael Lopez Cruz <x0052729@ti.com>
    [ jarkko.nikula@nokia.com: Commit id for counterpart patch corrected ]
    Signed-off-by: Jarkko Nikula <jarkko.nikula@nokia.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

commit 9e70c1f099c6977d3928879e64fa6af7f903b7b0
Author: Mark Brown <broonie@opensource.wolfsonmicro.com>
Date:   Thu Jan 29 13:08:20 2009 +0000

    ASoC: Fix null string usage with WM8753 DAIs
    
    The WM8753 driver multiplexes the DAI structures it exposes to the
    outside world, leaving them uninitialised until the codec probes.  Since
    the DAI name is used during the registration and setup process provide a
    dummy name.
    
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

commit 618b2c8db24522ae273d8299c6a936ea13793c4d
Author: Jeremy Fitzhardinge <jeremy@goop.org>
Date:   Wed Jan 28 16:50:20 2009 -0800

    xen: make sysfs files behave as their names suggest
    
    1: make "target_kb" only accept and produce a memory size in kilobytes.
    2: add a second "target" file which produces output in bytes, and will accept
       memparse input (scaled bytes)
    
    This fixes the rather irritating problem that writing the same value
    read back into target_kb would end up shrinking the domain by a factor
    of 1024, with generally bad results.
    
    Signed-off-by: Jeremy Fitzhardinge <jeremy.fitzhardinge@citrix.com>
    Cc: Stable Kernel <stable@kernel.org>
    Cc: "dan.magenheimer@oracle.com" <dan.magenheimer@oracle.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit bf3647c44bc76c43c4b2ebb4c37a559e899ac70e
Author: Ingo Molnar <mingo@elte.hu>
Date:   Thu Jan 29 11:45:35 2009 +0100

    x86: tone down mtrr_trim_uncached_memory() warning
    
    kerneloops.org is reporting a lot of these warnings that come due to
    vmware not setting up any MTRRs for emulated CPUs:
    
    | Reported 709 times (14696 total reports)
    | BIOS bug (often in VMWare) where the MTRR's are set up incorrectly
    | or not at all
    |
    | This warning was last seen in version 2.6.29-rc2-git1, and first
    | seen in 2.6.24.
    |
    | More info:
    |   http://www.kerneloops.org/searchweek.php?search=mtrr_trim_uncached_memory
    
    Keep a one-liner KERN_INFO about it - so that we have so notice if empty
    MTRRs are caused by native hardware/BIOS weirdness.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit bae7eb33b25387fdc7ccae08768bef1f9484a5b0
Author: Jiri Kosina <jkosina@suse.cz>
Date:   Wed Jan 28 23:06:37 2009 +0100

    HID: document difference between hid_blacklist and hid_ignore_list
    
    Many people get it wrong and add device IDs into hid_blacklist instead
    of hid_ignore_list. Let's put a little comment in place.
    
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>

commit 656f1fb90aa2261daa316c0dd8f75e3420f81e9e
Author: Jarod Wilson <jarod@redhat.com>
Date:   Wed Jan 28 21:22:35 2009 +0100

    HID: add antec-branded soundgraph imon devices to blacklist
    
    hid_ignore_list additions for the Antec-branded SoundGraph iMon VFD and LCD
    devices (0x15c2:0x0044 and 0x0045).
    
    These devices are driven by lirc.
    
    Signed-off-by: Jarod Wilson <jarod@redhat.com>
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>

commit be5d0c837cf8e43458c5757be5df4837a2803d08
Author: Oliver Neukum <oliver@neukum.org>
Date:   Wed Jan 28 09:36:18 2009 +0100

    HID: fix reversed logic in disconnect testing of hiddev
    
    The logic for testing for disconnection is reversed in an ioctl leading
    to false reports of disconnection.
    
    Signed-off-by: Oliver Neukum <oneukum@suse.de>
    Tested-by: Folkert van Heusden <folkert@vanheusden.com>
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>

commit 0fb21de0799a985d2da3da14ae5625d724256638
Author: Jiri Kosina <jkosina@suse.cz>
Date:   Wed Jan 14 03:03:21 2009 +0100

    HID: adjust report descriptor fixup for MS 1028 receiver
    
    Report descriptor fixup for MS 1028 receiver changes also values for
    Keyboard and Consumer, which incorrectly trims the range, causing correct
    events being thrown away before passing to userspace.
    
    We need to keep the GenDesk usage fixup though, as it reports totally bogus
    values about axis.
    
    Reported-by: Lucas Gadani <lgadani@gmail.com>
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>

commit a9ac49d303f967be0dabd97cb722c4a13109c6c2
Author: Jeff Layton <jlayton@redhat.com>
Date:   Thu Jan 22 14:43:21 2009 -0500

    cifs: make sure we allocate enough storage for socket address
    
    The sockaddr declared on the stack in cifs_get_tcp_session is too small
    for IPv6 addresses. Change it from "struct sockaddr" to "struct
    sockaddr_storage" to prevent stack corruption when IPv6 is used.
    
    Signed-off-by: Jeff Layton <jlayton@redhat.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit da505c386c9f993e43861791dae339b2219cf8dd
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jan 19 03:49:35 2009 +0000

    [CIFS] Make socket retry timeouts consistent between blocking and nonblocking cases
    
    We have used approximately 15 second timeouts on nonblocking sends in the past, and
    also 15 second SMB timeout (waiting for server responses, for most request types).
    Now that we can do blocking tcp sends,
    make blocking send timeout approximately the same (15 seconds).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit f818dd55c4a8b3519e203900bde0bb780d36e799
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jan 19 02:38:35 2009 +0000

    [CIFS] some cleanup to dir.c prior to addition of posix_open
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 42c245447c8c3f998dfe880aba18b6e5129d2976
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Jan 13 22:03:55 2009 +0000

    [CIFS] revalidate parent inode when rmdir done within that directory
    
    When a search is pending of a parent directory, and a child directory
    within it is removed, we need to reset the parent directory's time
    so that we don't reuse the (now stale) search results.
    
    Thanks to Gunter Kukkukk for reporting this:
    
    > got the following failure notification on irc #samba:
    >
    > A user was updating from subversion 1.4 to 1.5, where the
    > repository is located on a samba share (independent of
    > unix extensions = Yes or No).
    > svn 1.4 did work, 1.5 does not.
    >
    > The user did a lot of stracing of subversion - and wrote a
    > testapplet to simulate the failing behaviour.
    > I've converted the C++ source to C and added some error cases.
    >
    > When using "./testdir" on a local file system, "result2"
    > is always (nil) as expected - cifs vfs behaves different here!
    >
    >   ./testdir /mnt/cifs/mounted/share
    >
    > returns a (failing) valid pointer.
    
    Acked-by: Dave Kleikamp <shaggy@us.ibm.com>
    Acked-by: Jeff Layton <jlayton@redhat.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 6a7f8d36c00ab7adef5fb633f7805c91e8c1e139
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jan 12 21:03:25 2009 +0000

    [CIFS] Rename md5 functions to avoid collision with new rt modules
    
    When rt modules were added they (each) included their own md5
    with names which collided with the existing names of cifs's md5 functions.
    
    Renaming cifs's md5 modules so we don't collide with them.
    
    > Stephen Rothwell wrote:
    > When CIFS is built-in (=y) and staging/rt28[67]0 =y, there are multiple
    > definitions of:
    >
    > build-r8250.out:(.text+0x1d8ad0): multiple definition of `MD5Init'
    > build-r8250.out:(.text+0x1dbb30): multiple definition of `MD5Update'
    > build-r8250.out:(.text+0x1db9b0): multiple definition of `MD5Final'
    >
    > all of which need to have more unique identifiers for their global
    > symbols (e.g., rt28_md5_init, cifs_md5_init, foo, blah, bar).
    >
    
    CC: Greg K-H <gregkh@suse.de>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 0496e02d8791e7f06673a19a181be30dad6eff70
Author: Jeff Layton <jlayton@redhat.com>
Date:   Tue Dec 30 12:39:16 2008 -0500

    cifs: turn smb_send into a wrapper around smb_sendv
    
    cifs: turn smb_send into a wrapper around smb_sendv
    
    Rename smb_send2 to smb_sendv to make it consistent with kernel naming
    conventions for functions that take a vector.
    
    There's no need to have 2 functions to handle sending SMB calls. Turn
    smb_send into a wrapper around smb_sendv. This also allows us to
    properly mark the socket as needing to be reconnected when there's a
    partial send from smb_send.
    
    Also, in practice we always use the address and noblocksnd flag
    that's attached to the TCP_Server_Info. There's no need to pass
    them in as separate args to smb_sendv.
    
    Signed-off-by: Jeff Layton <jlayton@redhat.com>
    Acked-by: Dave Kleikamp <shaggy@linux.vnet.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7cbcf22548df1f1df7c6b0d0bda579b92efca63c
Author: Randy Dunlap <randy.dunlap@oracle.com>
Date:   Tue Jan 20 16:29:13 2009 -0800

    driver-core: fix kernel-doc parameter name
    
    Fix function parameter name in kernel-doc:
    
    Warning(linux-next-20090120//drivers/base/core.c:1289): No description found for parameter 'dev'
    Warning(linux-next-20090120//drivers/base/core.c:1289): Excess function parameter 'root' description in 'root_device_unregister'
    
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    Acked-by: Mark McLoughlin <markmc@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6a1b699678c8c0d45f88a37b32358a9e82bef6bb
Author: Hans J. Koch <hjk@linutronix.de>
Date:   Wed Jan 7 00:12:37 2009 +0100

    UIO: Add missing documentation of features added recently
    
    The following features were added to the UIO framework in the near past:
    
    * Generic drivers for platform devices (uio_pdrv, uio_pdrv_genirq)
    * an "offset" sysfs attribute for memory mappings
    
    Unfortunately, all this went in without documentation (won't happen again...)
    
    This patch updates UIO documentation.
    
    Signed-off-by: Hans J. Koch <hjk@linutronix.de>
    Acked-by: Uwe Kleine-König <ukleinek@strlen.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 720893fd5fb6de1f752f816a89e630f08ae8b20a
Author: Tsugikazu Shibata <tshibata@ab.jp.nec.com>
Date:   Fri Jan 23 09:59:50 2009 +0900

    Sync patch for jp_JP/stable_kernel_rules.txt
    
    Updated jp_JP/stable_kernel_rules.txt due to changes in the main version
    of the file.
    
    Also, this patch is already reviewed by Japanese translation community
    called JF.
    
    Signed-off-by: Tsugikazu Shibata <tshibata@ab.jp.nec.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dcbbcefb6a6d540b605421e85fbaa4cea3fef5a2
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Wed Jan 28 22:14:17 2009 +0100

    Staging: poch: fix verification of memory area
    
    fix verification of memory area
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 05d6d677ab4b975697c6a987f1dffdc55d61a160
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Fri Dec 19 23:37:30 2008 +0100

    Staging: usbip: usbip_start_threads(): handle kernel_thread failure
    
    kernel_thread may fail, notice this.
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e48d94dac7eef16b4a4f246bf7b8df0f00cc0aec
Author: Geert Uytterhoeven <geert@linux-m68k.org>
Date:   Mon Jan 12 09:19:42 2009 +0100

    staging: agnx: drivers/staging/agnx/agnx.h needs <linux/io.h>
    
    On m68k:
    drivers/staging/agnx/agnx.h: In function 'agnx_read32':
    drivers/staging/agnx/agnx.h:10: error: implicit declaration of function 'ioread32'
    drivers/staging/agnx/agnx.h: In function 'agnx_write32':
    drivers/staging/agnx/agnx.h:15: error: implicit declaration of function 'iowrite32'
    drivers/staging/agnx/sta.c: In function 'get_sta_power':
    drivers/staging/agnx/sta.c:94: error: implicit declaration of function 'memcpy_fromio'
    drivers/staging/agnx/sta.c: In function 'set_sta_power':
    drivers/staging/agnx/sta.c:103: error: implicit declaration of function 'memcpy_toio'
    
    Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1176e83aff6f15b6ae4d1b53c16124884ad29363
Author: Oleg Nesterov <oleg@redhat.com>
Date:   Sun Jan 18 18:17:20 2009 +0100

    Staging: android: task_get_unused_fd_flags: fix the wrong usage of tsk->signal
    
    Compile tested.
    
    task_struct->signal is not protected by RCU, the code is bogus.
    Change the code to take ->siglock to pin ->signal.
    
    Signed-off-by: Oleg Nesterov <oleg@redhat.com>
    Cc: Arve Hjønnevåg <arve@android.com>
    Cc: Brian Swetland <swetland@google.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 191805ac41a63929003faa33365027d3fb924d71
Author: Arve Hjønnevåg <arve@android.com>
Date:   Wed Jan 14 16:54:16 2009 -0800

    Staging: android: Add lowmemorykiller documentation.
    
    Signed-off-by: Arve Hjønnevåg <arve@android.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 07960058f0ce77ddc3027d3e45a5de1fb977334f
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jan 28 15:42:43 2009 -0800

    Staging: android: fix build error on 64bit boxes
    
    ktime_t isn't ment to directly access on all arches, so use the proper
    conversion functions instead to figure out what time is remaining.
    
    Reported-by: Randy Dunlap <randy.dunlap@oracle.com>
    Cc: Arve Hjønnevåg <arve@android.com>
    Cc: Mike Lockwood <lockwood@android.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2d0db6bf5010c26beb1ccbd4ee50991fd2c05d90
Author: Arve Hjønnevåg <arve@android.com>
Date:   Thu Jan 8 16:48:46 2009 -0800

    Staging: android: timed_gpio: Fix build to build on kernels after 2.6.25.
    
    Reported-by: Randy Dunlap <randy.dunlap@oracle.com>
    Cc: Mike Lockwood <lockwood@android.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c171ac36b74f6c90bc7a03c309136ba175314b6d
Author: Arve Hjønnevåg <arve@android.com>
Date:   Thu Jan 8 15:28:50 2009 -0800

    Staging: android: binder: fix arm build errors
    
    Reported-by: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7c5151fbf134e082bc7f2c0ed02684ed12578b3b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 16 18:01:57 2009 -0800

    Staging: meilhaus: fix Kbuild
    
    The Meilhaus drivers do not like being built into the kernel right now,
    so force them to be a module.
    
    Reported-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>
    Reported-by: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c69a1f09430c7a62b87af89383998256fcf07685
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 16 17:59:15 2009 -0800

    Staging: comedi: fix Kbuild
    
    comedi doesn't like being built into the kernel right now, so force it
    to be a module.
    
    Reported-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>
    Reported-by: Randy Dunlap <randy.dunlap@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5e2125677fd72d36396cc537466e07ffcbbd4b2b
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Wed Jan 28 01:03:34 2009 +0100

    firewire: sbp2: fix DMA mapping leak on the failure path
    
    Reported-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp>
    who also provided a first version of the fix.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit f746072abc12d0e10ecd7847f1846157fde15987
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 24 19:41:46 2009 +0100

    firewire: sbp2: define some magic numbers as macros
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit a08e100aece16e33a45b82924ad85f4066c4ed1c
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 24 19:41:46 2009 +0100

    firewire: sbp2: fix payload limit at S1600 and S3200
    
    1394-2008 clause 16.3.4.1 (1394b-2002 clause 16.3.1.1) defines tighter
    limits than 1394-2008 clause 6.2.2.3 (1394a-2000 clause 6.2.2.3).
    
    Our previously too large limit doesn't matter though if the controller
    reports its max_receive correctly.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit c1fbdd78517a9323ea5f5767c8ceb10aabc40fc2
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 24 19:41:46 2009 +0100

    ieee1394: sbp2: don't assume zero model_id or firmware_revision if there is none
    
    This makes sbp2 behave more like firewire-sbp2 which reports 0xff000000
    as immediate value if there are no unit directory entries for model_id
    or firmware_revision.
    
    It does not reduce matches with the currently existing quirks table; the
    only zero entry there is for a device which actually does have a zero
    model_id.  It only changes how model_id and firmware_revision are logged
    if they are missing.
    
    Other functionally unrelated changes:  The model_id member of quirks
    list entries is renamed to model;  the value (but not the effect) of
    SBP2_ROM_VALUE_WILDCARD is changed.  Now this part of the source is
    identical with firewire-sbp2 for easier maintenance.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit d3e3e970e3722c51e3fd3b042b6065d4bfaf6f81
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 24 19:41:46 2009 +0100

    ieee1394: sbp2: fix payload limit at S1600 and S3200
    
    1394-2008 clause 16.3.4.1 (1394b-2002 clause 16.3.1.1) defines tighter
    limits than 1394-2008 clause 6.2.2.3 (1394a-2000 clause 6.2.2.3).
    
    Our previously too large limit doesn't matter though if the controller
    reports its max_receive correctly.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 4106ceff15495a7df1617e78bbf3e852fe6601c9
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Jan 19 19:20:31 2009 +0100

    ieee1394: sbp2: update a help string
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 82d4b90debaa7ab3590335c1b641eb3d2ebb164e
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Jan 19 19:19:55 2009 +0100

    ieee1394: support for speeds greater than S800
    
    The hard-wired configuration of the top speed (until now S800) was
    unnecessary, remove it.
    
    If the local link layer controller supports S1600 or S3200, we now
    assume this speed for all present 1394b PHYs (except if they are
    behind 1394a repeaters) until nodemgr figured out the actual speed
    while fetching the config ROM.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 2a88464ceb1bda2571f88902fd8068a6168e3f7b
Author: Luke Yelavich <themuso@ubuntu.com>
Date:   Wed Jan 28 15:58:38 2009 +1100

    ALSA: hda - add another MacBook Pro 4, 1 subsystem ID
    
    Add another MacBook Pro 4,1 SSID (106b:3800). It seems that latter revisions,
    (at least mine), have different IDs to earlier revisions.
    
    Signed-off-by: Luke Yelavich <themuso@ubuntu.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a4e6db07984529847c6ad8bc616485e721dcb809
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Jan 27 22:41:03 2009 -0800

    ipv6: Make mc_forwarding sysctl read-only.
    
    The kernel manages this value internally, as necessary, as
    VIFs are added/removed and as multicast routers are registered
    and deregistered.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1d6e55f195128813f96458203a9fa14204f9251e
Author: Thomas Goff <thomas.goff@boeing.com>
Date:   Tue Jan 27 22:39:59 2009 -0800

    IPv6: Fix multicast routing bugs.
    
    This patch addresses the IPv6 multicast routing issues described
    below.  It was tested with XORP 1.4/1.5 as the IPv6 PIM-SM routing
    daemon against FreeBSD peers.
    
    net/ipv6/ip6_input.c:
    
      - Don't try to forward link-local multicast packets.
    
      - Don't reset skb2->dev before calling ip6_mr_input() so packets can
        be identified as coming from the PIM register vif properly.
    
    net/ipv6/ip6mr.c:
    
      - Fix incoming PIM register messages processing:
    
        * The IPv6 pseudo-header should be included when checksumming PIM
          messages (RFC 4601 section 4.9; RFC 3973 section 4.7.1).
    
        * Packets decapsulated from PIM register messages should have
          skb->protocol ETH_P_IPV6.
    
      - Enable/disable IPv6 multicast forwarding on the corresponding
        interface when a routing daemon adds/removes a multicast virtual
        interface.
    
      - Remove incorrect skb_pull() to fix userspace signaling.
    
      - Enable/disable global IPv6 multicast forwarding when an IPv6
        multicast routing socket is opened/closed.
    
    net/ipv6/route.c:
    
      - Don't use strict routing logic for packets decapsulated from PIM
        register messages (similar to disabling rp_filter for the IPv4
        case).
    
    Signed-off-by: Thomas Goff <thomas.goff@boeing.com>
    Reviewed-by: Fred Templin <fred.l.templin@boeing.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6c06a478c9e59d1584a5dc1b2b3519bae5d6546a
Author: Jiri Pirko <jpirko@redhat.com>
Date:   Tue Jan 27 22:30:19 2009 -0800

    net: fix xfrm reverse flow lookup for icmp6
    
    This patch fixes the xfrm reverse flow lookup for icmp6 so that icmp6 packets
    don't get lost over ipsec tunnels. Similar patch is in RHEL5 kernel for a quite
    long time and I do not see why it isn't in mainline.
    
    Signed-off-by: Jiri Pirko <jpirko@redhat.com>
    Acked-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 94cd3e6cbebf85903b4d53ed2147bdb4c6e08625
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Tue Jan 27 17:45:10 2009 -0800

    net: wrong test in inet_ehash_locks_alloc()
    
    In commit 9db66bdcc83749affe61c61eb8ff3cf08f42afec (net: convert
    TCP/DCCP ehash rwlocks to spinlocks), I forgot to change one
    occurrence of rwlock_t to spinlock_t
    
    I believe sizeof(raw_spinlock_t) might be > 0 on !CONFIG_SMP if
    CONFIG_DEBUG_SPINLOCK while sizeof(raw_rwlock_t) should be 0 in this
    case.
    
    Fortunatly, CONFIG_DEBUG_SPINLOCK adds fields to both spinlock_t and
    rwlock_t, but at this might change in the future (being able to debug
    spinlocks but not rwlocks for example), better to be safe.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 15b2bee22a0390d951301b53e83df88d0350c499
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Jan 27 16:41:58 2009 -0800

    e1000: fix bug with shared interrupt during reset
    
    A nasty bug was found where an MTU change (or anything else that caused a
    reset) could race with the interrupt code.  The interrupt code was entered
    by a shared interrupt during the MTU change.
    
    This change prevents the interrupt code from running while the driver is in
    the middle of its reset path.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 766fb95ba06e1bbf531d30dc05e21b2d4a0e8dd2
Author: Sidney Amani <seed@uffs.org>
Date:   Tue Jan 27 10:11:46 2009 +0100

    UBI: allow direct user-space I/O
    
    Introduce a new ioctl UBI_IOCSETPROP to set properties
    on a volume. Also add the first property:
    UBI_PROP_DIRECT_WRITE, this property is used to set the
    ability to use direct writes in userspace
    
    Signed-off-by: Sidney Amani <seed@uffs.org>
    Signed-off-by: Corentin Chary <corentincj@iksaif.net>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit 5801f992276366cd6a4f1f9939a4c9da33d499ee
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 27 12:53:22 2009 +0100

    ALSA: hda - Fix compile warning with CONFIG_SND_JACK=n
    
      sound/pci/hda/patch_conexant.c:352: warning: 'conexant_add_jack' defined but not used
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit aa9d823bb347fb66cb07f98c686be8bb85cb6a74
Author: Joerg Schirottke <master@kanotix.com>
Date:   Tue Jan 27 11:01:34 2009 +0100

    ALSA: hda - Add quirk for HP DV6700 laptop
    
    Added the matching model=laptop for HP DV6700 laptop.
    
    Signed-off-by: Joerg Schirottke <master@kanotix.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9fa5fdf291c9b58b1cb8b4bb2a0ee57efa21d635
Author: Dimitris Michailidis <dm@chelsio.com>
Date:   Mon Jan 26 22:15:31 2009 -0800

    tcp: Fix length tcp_splice_data_recv passes to skb_splice_bits.
    
    tcp_splice_data_recv has two lengths to consider: the len parameter it
    gets from tcp_read_sock, which specifies the amount of data in the skb,
    and rd_desc->count, which is the amount of data the splice caller still
    wants.  Currently it passes just the latter to skb_splice_bits, which then
    splices min(rd_desc->count, skb->len - offset) bytes.
    
    Most of the time this is fine, except when the skb contains urgent data.
    In that case len goes only up to the urgent byte and is less than
    skb->len - offset.  By ignoring len tcp_splice_data_recv may a) splice
    data tcp_read_sock told it not to, b) return to tcp_read_sock a value > len.
    
    Now, tcp_read_sock doesn't handle used > len and leaves the socket in a
    bad state (both sk_receive_queue and copied_seq are bad at that point)
    resulting in duplicated data and corruption.
    
    Fix by passing min(rd_desc->count, len) to skb_splice_bits.
    
    Signed-off-by: Dimitris Michailidis <dm@chelsio.com>
    Acked-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a7a41acf99d9150b424839b0d7b4f5ad9d211e2d
Author: Manish Katiyar <mkatiyar@gmail.com>
Date:   Mon Jan 26 21:54:21 2009 -0800

    r6040: Remove unused variable pdev from drivers/net/r6040.c
    
    drivers/net/r6040.c:441: warning: unused variable 'pdev'
    
    Signed-off-by: Manish Katiyar <mkatiyar@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 98322f22eca889478045cf896b572250d03dc45f
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Mon Jan 26 21:35:35 2009 -0800

    udp: optimize bind(0) if many ports are in use
    
    commit 9088c5609584684149f3fb5b065aa7f18dcb03ff
    (udp: Improve port randomization) introduced a regression for UDP bind() syscall
    to null port (getting a random port) in case lot of ports are already in use.
    
    This is because we do about 28000 scans of very long chains (220 sockets per chain),
    with many spin_lock_bh()/spin_unlock_bh() calls.
    
    Fix this using a bitmap (64 bytes for current value of UDP_HTABLE_SIZE)
    so that we scan chains at most once.
    
    Instead of 250 ms per bind() call, we get after patch a time of 2.9 ms
    
    Based on a report from Vitaly Mayatskikh
    
    Reported-by: Vitaly Mayatskikh <v.mayatskih@gmail.com>
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Tested-by: Vitaly Mayatskikh <v.mayatskih@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8527bec548e01a29c6d1928d20d6d3be71861482
Author: Ira W. Snyder <iws@ovro.caltech.edu>
Date:   Mon Jan 26 21:00:33 2009 -0800

    virtio_net: use correct accessors for scatterlists
    
    Without this fix, virtio_net makes incorrect usage of scatterlists. It sets
    the end of the scatterlist chain after the first element, despite the fact
    that more entries come after it.
    
    If you try to run dma_map_sg() on one of the scatterlists given to you by
    add_buf(), you will get a null pointer oops.
    
    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9fd9784c91db79e953ea3fe3741f885bdc390a72
Author: Thadeu Lima de Souza Cascardo <cascardo@holoscopio.com>
Date:   Mon Jan 26 19:26:26 2009 -0500

    ext4: Fix building with EXT4FS_DEBUG
    
    When bg_free_blocks_count was renamed to bg_free_blocks_count_lo in
    560671a0, its uses under EXT4FS_DEBUG were not changed to the helper
    ext4_free_blks_count.
    
    Another commit, 498e5f24, also did not change everything needed under
    EXT4FS_DEBUG, thus making it spill some warnings related to printing
    format.
    
    This commit fixes both issues and makes ext4 build again when
    EXT4FS_DEBUG is enabled.
    
    Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@holoscopio.com>
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>

commit fdff73f094e7220602cc3f8959c7230517976412
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Mon Jan 26 19:06:41 2009 -0500

    ext4: Initialize the new group descriptor when resizing the filesystem
    
    Make sure all of the fields of the group descriptor are properly
    initialized.  Previously, we allowed bg_flags field to be contain
    random garbage, which could trigger non-deterministic behavior,
    including a kernel OOPS.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=12433
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Cc: stable@kernel.org

commit 3a9f84d354ce1e19956083c8e691727dea33bd5a
Author: Ed Swierk <eswierk@aristanetworks.com>
Date:   Mon Jan 26 15:33:31 2009 -0800

    signals, debug: fix BUG: using smp_processor_id() in preemptible code in print_fatal_signal()
    
    With print-fatal-signals=1 on a kernel with CONFIG_PREEMPT=y, sending an
    unexpected signal to a process causes a BUG: using smp_processor_id() in
    preemptible code.
    
    get_signal_to_deliver() releases the siglock before calling
    print_fatal_signal(), which calls show_regs(), which calls
    smp_processor_id(), which is not supposed to be called from a
    preemptible thread.
    
    Make sure show_regs() runs with preemption disabled.
    
    Signed-off-by: Ed Swierk <eswierk@aristanetworks.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 30a0fb947a68ad3ab8a7184e3b3d79dce10e3688
Author: H. Peter Anvin <hpa@zytor.com>
Date:   Mon Jan 26 09:40:58 2009 -0800

    x86: correct the CPUID pattern for MSR_IA32_MISC_ENABLE availability
    
    Impact: re-enable CPUID unmasking on affected processors
    
    As far as I am capable of discerning from the documentation,
    MSR_IA32_MISC_ENABLE should be available for all family 0xf CPUs, as
    well as family 6 for model >= 0xd (newer Pentium M).
    
    The documentation on this isn't ideal, so we need to be on the lookout
    for errors, still.
    
    Signed-off-by: H. Peter Anvin <hpa@zytor.com>

commit e747a5c0be3efe5465e45c8e326bc766b1288be6
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 24 20:35:38 2009 +0100

    firewire: core: optimize card shutdown
    
    This fixes a regression by "firewire: keep highlevel drivers attached
    during brief connection loss":  There were 2 seconds unnecessary waiting
    added to the shutdown procedure of each controller.
    
    We use card->link as status flag to signal the device handler that there
    is no use to wait for a come-back.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 64c634ef83991b390ec0503e61f16efb0ba3c60b
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Jan 20 19:09:58 2009 +0100

    ieee1394: ohci1394: increase AT req. retries, fix ack_busy_X from Panasonic camcorders and others
    
    Camcorders have a tendency to fail read requests to their config ROM and
    write request to their FCP command register with ack_busy_X.  This has
    become a problem with newer kernels and especially Panasonic camcorders,
    causing AV/C in dvgrab and kino to fail.  Dvgrab for example frequently
    logs "send oops"; kino reports loss of AV/C control.  I suspect that
    lower CPU scheduling latencies in newer kernels made this issue more
    prominent now.
    
    According to
    https://sourceforge.net/tracker/?func=detail&atid=114103&aid=2492640&group_id=14103
    this can be fixed by configuring the FireWire controller for more
    hardware retries for request transmission; these retries are evidently
    more successful than libavc1394's own retry loop (typically 3 tries on
    top of hardware retries).
    
    Presumably the same issue has been reported at
    https://bugzilla.redhat.com/show_bug.cgi?id=449252 and
    https://bugzilla.redhat.com/show_bug.cgi?id=477279 .
    
    Tested-by: Mathias Beilstein
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 8b7b6afaa84708d08139daa08538ca3e56c351f1
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Jan 20 19:10:58 2009 +0100

    firewire: ohci: increase AT req. retries, fix ack_busy_X from Panasonic camcorders and others
    
    Camcorders have a tendency to fail read requests to their config ROM and
    write request to their FCP command register with ack_busy_X.  This has
    become a problem with newer kernels and especially Panasonic camcorders,
    causing AV/C in dvgrab and kino to fail.  Dvgrab for example frequently
    logs "send oops"; kino reports loss of AV/C control.  I suspect that
    lower CPU scheduling latencies in newer kernels made this issue more
    prominent now.
    
    According to
    https://sourceforge.net/tracker/?func=detail&atid=114103&aid=2492640&group_id=14103
    this can be fixed by configuring the FireWire controller for more
    hardware retries for request transmission; these retries are evidently
    more successful than libavc1394's own retry loop (typically 3 tries on
    top of hardware retries).
    
    Presumably the same issue has been reported at
    https://bugzilla.redhat.com/show_bug.cgi?id=449252 and
    https://bugzilla.redhat.com/show_bug.cgi?id=477279 .
    
    In a quick test with a JVC camcorder (which didn't malfunction like the
    reported camcorders), this change decreased the number of ack_busy_X
    from 16 in three runs of dvgrab to 4 in three runs of the same capture
    duration.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit b006854955254a971096c120d4ef115a7c6145fb
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Jan 5 20:43:23 2009 +0100

    firewire: ohci: change "context_stop: still active" log message
    
    The present message is mostly just noise.  We only need to be notified
    if the "active" flag does not go off before the retry loop terminates.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 00a602db1ce9d61319d6f769dee206ec85f19bda
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Jan 23 11:55:42 2009 +0100

    ALSA: hda - Fix PCM reference NID for STAC/IDT analog outputs
    
    The reference NID for the analog outputs of STAC/IDT codecs is set
    to a fixed number 0x02.  But this isn't always correct and in many
    codecs it points to a non-existing NID.
    
    This patch fixes the initialization of the PCM reference NID taken
    from the actually probed DAC list.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ba2607fe9c1f2d4ad5a3d4c4ae9117c5bfdca826
Author: Markus Metzger <markus.t.metzger@intel.com>
Date:   Mon Jan 19 10:38:35 2009 +0100

    x86, ds, bts: cleanup/fix DS configuration
    
    Cleanup the cpuid check for DS configuration.
    
    This also fixes a Corei7 CPUID enumeration bug.
    
    Signed-off-by: Markus Metzger <markus.t.metzger@intel.com>
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 91a8d07d82cac3aae3ef2ea1aaba5c9c4a934e91
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Wed Jan 21 18:45:57 2009 -0500

    ring-buffer: reset timestamps when ring buffer is reset
    
    Impact: fix bad times of recent resets
    
    The ring buffer needs to reset its timestamps when reseting of the
    buffer, otherwise the timestamps are stale and might be used to
    calculate times in the buffer causing funny timestamps to appear.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 1092307d582a7566d23779c304cf86f3075ac5f0
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Thu Jan 15 23:40:11 2009 -0500

    trace: set max latency variable to zero on default
    
    Impact: trace max latencies on start of latency tracing
    
    This patch sets the max latency to zero whenever one of the
    irq variant tracers or the wakeup tracer is set to current tracer.
    
    Most developers expect to see output when starting up a latency
    tracer. But since the max_latency is already set to max, and
    it takes a latency greater than max_latency to be recorded, there
    is no trace. This is not the expected behavior and has even confused
    myself.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit a442e5e0a2011af5b2d1f118fee0a8f9079f1d88
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Wed Jan 14 14:50:19 2009 -0500

    trace: stop all recording to ring buffer on ftrace_dump
    
    Impact: limit ftrace dump output
    
    Currently ftrace_dump only calls ftrace_kill that is a fast way
    to prevent the function tracer functions from being called (just sets
    a flag and clears the function to call, nothing else). It is better
    to also turn off any recording to the ring buffers as well.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit faf6861ebd776871e77b761c43ec045cd20b5716
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Wed Jan 14 12:24:42 2009 -0500

    trace: print ftrace_dump at KERN_EMERG log level
    
    Impact: fix to print out ftrace_dump when expected
    
    I was debugging a hard race condition to only find out that
    after I hit the race, my log level was not at level to show
    KERN_INFO. The time it took to trigger the race was wasted because
    I did not capture the trace.
    
    Since ftrace_dump is only called from kernel oops (and only when
    it is set in the kernel command line to do so), or when a
    developer adds it to their own local tree, the log level of
    the print should be at KERN_EMERG to make sure the print appears.
    
    ftrace_dump is not called by a normal user setup, and will not
    add extra unwanted print out to the console. There is no reason
    it should be at KERN_INFO.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 551b4048b3d4acf15aff9fe4aed89b892c135b02
Author: Lai Jiangshan <laijs@cn.fujitsu.com>
Date:   Mon Jan 12 11:06:18 2009 +0800

    ring_buffer: reset write when reserve buffer fail
    
    Impact: reset struct buffer_page.write when interrupt storm
    
    if struct buffer_page.write is not reset, any succedent committing
    will corrupted ring_buffer:
    
    static inline void
    rb_set_commit_to_write(struct ring_buffer_per_cpu *cpu_buffer)
    {
    	......
    		cpu_buffer->commit_page->commit =
    			cpu_buffer->commit_page->write;
    	......
    }
    
    when "if (RB_WARN_ON(cpu_buffer, next_page == reader_page))", ring_buffer
    is disabled, but some reserved buffers may haven't been committed.
    we need reset struct buffer_page.write.
    
    when "if (unlikely(next_page == cpu_buffer->commit_page))", ring_buffer
    is still available, we should not corrupt it.
    
    Signed-off-by: Lai Jiangshan <laijs@cn.fujitsu.com>
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 00f57f545afa422db3003b0d0b30a30f8de7ecb2
Author: Frederic Weisbecker <fweisbec@gmail.com>
Date:   Wed Jan 14 13:33:27 2009 -0800

    tracing/function-graph-tracer: fix a regression while suspend to disk
    
    Impact: fix a crash while kernel image restore
    
    When the function graph tracer is running and while suspend to disk, some racy
    and dangerous things happen against this tracer.
    
    The current task will save its registers including the stack pointer which
    contains the return address hooked by the tracer. But the current task will
    continue to enter other functions after that to save the memory, and then
    it will store other return addresses, and finally loose the old depth which
    matches the return address saved in the old stack (during the registers saving).
    
    So on image restore, the code will return to wrong addresses.
    And there are other things: on restore, the task will have it's "current"
    pointer overwritten during registers restoring....switching from one task to
    another... That would be insane to try to trace function graphs at these
    stages.
    
    This patch makes the function graph tracer listening on power events, making
    it's tracing disabled for the current task (the one that performs the
    hibernation work) while suspend/resume to disk, making the tracing safe
    during hibernation.
    
    Signed-off-by: Frederic Weisbecker <fweisbec@gmail.com>
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 3d36a0df3b473fb53531484df227f2da8bc7494b
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Jan 17 22:45:54 2009 +0100

    firewire: keep highlevel drivers attached during brief connection loss
    
    There are situations when nodes vanish from the bus and come back
    quickly thereafter:
      - When certain bus-powered hubs are plugged in,
      - when certain devices are plugged into 6-port hubs,
      - when certain disk enclosures are switched from self-power to bus
        power or vice versa and break the daisy chain during the transition,
      - when the user plugs a cable out and quickly plugs it back in, e.g.
        to reorder a daisy chain (works on Mac OS X if done quickly enough),
      - when certain hubs temporarily malfunction during high bus traffic.
    
    Until now, firewire-core reported affected nodes as lost to the
    highlevel drivers (firewire-sbp2 and userspace drivers).  We now delay
    the destruction of device representations until after at least two
    seconds after the last bus reset.  If a "new" device is detected in this
    period whose bus information block and root directory header match that
    of a device which is pending for deletion, we resurrect that device and
    send update calls to highlevel drivers.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 8cd0bbbdff7471163cc6a058be8b8610ddd01d6b
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Mar 24 20:56:40 2008 +0100

    firewire: unnecessary BM delay after generation rollover
    
    Noticed by Jarod Wilson:  The bus manager work was unnecessarily delayed
    each time the bus generation counter rolled over.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jarod Wilson <jwilson@redhat.com>

commit a5c7f4710fba334bf613d705f97b4471b36446f8
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Wed Mar 19 22:02:40 2008 +0100

    firewire: insist on successive self ID complete events
    
    The whole topology code only works if the old and new topologies which
    are compared come from immediately successive self ID complete events.
    
    If there happened bus resets without self ID complete events in the
    meantime, or self ID complete events with invalid selfIDs, the topology
    comparison could identify nodes wrongly, or more likely just corrupt
    kernel memory or panic right away.
    
    We now discard all nodes of the old topology and treat all current nodes
    as new ones if the current self ID generation is not the previous one
    plus 1.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jarod Wilson <jwilson@redhat.com>

commit 36b477d005fbda29e7581c3cef7ee31a59d8970b
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Tue Jan 20 18:04:09 2009 +0200

    UBI: fix resource de-allocation
    
    GregKH asked to fix UBI which has fake device release method. Indeed,
    we have to free UBI device description object from the release method,
    because otherwise we'll oops is someone opens a UBI device sysfs file,
    then the device is removed, and he reads the file. With this fix, he
    will get -ENODEV instead of an oops.
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit 8c4c19f1367435afdc16ac122a2a95a4d6cff9f0
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Tue Jan 20 17:48:02 2009 +0200

    UBI: remove unused variable
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit e7f07968c16bdd9480001c0a9de013ba56889cf9
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Tue Jan 20 09:50:19 2009 -0500

    ext4: Fix ext4_free_blocks() w/o a journal when files have indirect blocks
    
    When trying to unlink a file with indirect blocks on a filesystem
    without a journal, the "circular indirect block" sanity test was
    getting falsely triggered.
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>

commit 082605de5f82eb692cc90f7fda071cc01bb5ac34
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Mon Jan 19 14:32:51 2009 -0500

    ring-buffer: fix alignment problem
    
    Impact: fix to allow some archs to use the ring buffer
    
    Commits in the ring buffer are checked by pointer arithmetic.
    If the calculation is incorrect, then the commits will never take
    place and the buffer will simply fill up and report an error.
    
    Each page in the ring buffer has a small header:
    
    struct buffer_data_page {
    	u64		time_stamp;
    	local_t		commit;
    	unsigned char	data[];
    };
    
    Unfortuntely, some of the calculations used sizeof(struct buffer_data_page)
    to know the size of the header. But this is incorrect on some archs,
    where sizeof(struct buffer_data_page) does not equal
    offsetof(struct buffer_data_page, data), and on those archs, the commits
    are never processed.
    
    This patch replaces the sizeof with offsetof.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 3013ee31b6c5fd9a49a81816d6c13e1cdb7a1288
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Fri Jan 16 19:08:43 2009 +0200

    UBI: use nicer 64-bit math
    
    Get rid of 'do_div()' and use more user-friendly primitives from
    'linux/math64.h'.
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit f429b2ea8eadb5a576542a70f7fd6f5c2a7455e1
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Fri Jan 16 18:06:55 2009 +0200

    UBI: add ioctl compatibility
    
    UBI ioctl's do not work when running 64-bit kernel and 32-bit
    user-land. Fix this by adding the compat_ioctl method.
    
    Also, UBI serializes all ioctls, so more than one ioctl at a time
    is not a problem. Amd UBI does not seem to depend on anything else,
    so use unlocked_ioctl instead of ioctl (no BKL needed).
    
    Reported-by: Geert Uytterhoeven <Geert.Uytterhoeven@sonycom.com>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
    Reviewed-by: Arnd Bergmann <arnd@arndb.de>

commit 4d187a88d3ee3be6a1a0b6859eb00f70e1601b5e
Author: Jan Engelhardt <jengelh@medozas.de>
Date:   Sun Jan 11 23:55:39 2009 +0100

    UBI: constify file operations
    
    Signed-off-by: Jan Engelhardt <jengelh@medozas.de>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit ade44ce07c9316351ae321051221c9bad3af3a44
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Fri Jan 16 18:03:22 2009 +0200

    UBI: allow all ioctls
    
    Some ioctl's in UBI are enabled only when debugging is switched
    on. There is not particular reason for this, just noone needed
    them. However, some people need the now for their user-space
    development. Thus, allow these ioctl's even if UBI debugging
    is disabled.
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit 573135b5dbc02be12940558db23158cc9ee89c66
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Fri Jan 16 18:02:08 2009 +0200

    UBI: remove unnecessry header inclusion
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit f7fc6f3f33703e3365c0ef9d4bf322b88cc9dae7
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:   Wed Jan 7 16:10:58 2009 +0200

    UBI: improve ioctl commentaries
    
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit a27ce8f55dd5fddf0b8ea179cce8f399c13dc94f
Author: Corentin Chary <corentincj@iksaif.net>
Date:   Mon Jan 5 14:48:59 2009 +0100

    UBI: add ioctl for is_mapped operation
    
    This patch adds ioctl to check if an LEB is mapped or not (as a
    debugging option so far).
    
    [Re-named ioctl to make it look the same as the other one and made
     some minor stylistic changes. Artem Bityutskiy.]
    
    Signed-off-by: Corentin Chary <corentincj@iksaif.net>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit c3da23be1673be4e738aea235604b4e6cb259655
Author: Corentin Chary <corentincj@iksaif.net>
Date:   Mon Jan 5 14:46:19 2009 +0100

    UBI: add ioctl for unmap operation
    
    This patch adds ioctl for the LEB unmap operation (as a debugging
    option so far).
    
    [Re-named ioctl to make it look the same as the other one and made
     some minor stylistic changes. Artem Bityutskiy.]
    
    Signed-off-by: Corentin Chary <corentincj@iksaif.net>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit 141e6ebd1b1759bd5cebf092b7216b6f1c7b4c4f
Author: Corentin Chary <corentincj@iksaif.net>
Date:   Mon Jan 5 14:44:11 2009 +0100

    UBI: add ioctl for map operation
    
    This patch adds ioctl for the LEB map operation (as a debugging
    option so far).
    
    [Re-named ioctl to make it look the same as the other one and made
     some minor stylistic changes. Artem Bityutskiy.]
    
    Signed-off-by: Corentin Chary <corentincj@iksaif.net>
    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>

commit 08ec8c3878cea0bf91f2ba3c0badf44b383752d0
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Fri Jan 16 11:57:00 2009 -0500

    jbd2: On a __journal_expect() assertion failure printk "JBD2", not "EXT3-fs"
    
    Otherwise it can be very confusing to find a "EXT3-fs: " failure in
    the middle of EXT4-fs failures, and it makes it harder to track the
    source of the failure.
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>

commit a21102b55c4f8dfd3adb4a15a34cd62237b46039
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Fri Jan 16 11:13:47 2009 -0500

    ext3: Add sanity check to make_indexed_dir
    
    Make sure the rec_len field in the '..' entry is sane, lest we overrun
    the directory block and cause a kernel oops on a purposefully
    corrupted filesystem.
    
    This fixes a bug related to a bug originally reported by Sami Liedes
    for ext4 at:
    
    http://bugzilla.kernel.org/show_bug.cgi?id=12430
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Cc: stable@kernel.org

commit e6b8bc09ba2075cd91fbffefcd2778b1a00bd76f
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Fri Jan 16 11:13:40 2009 -0500

    ext4: Add sanity check to make_indexed_dir
    
    Make sure the rec_len field in the '..' entry is sane, lest we overrun
    the directory block and cause a kernel oops on a purposefully
    corrupted filesystem.
    
    Thanks to Sami Liedes for reporting this bug.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=12430
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Cc: stable@kernel.org

commit 06a279d636734da32bb62dd2f7b0ade666f65d7c
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Sat Jan 17 18:41:37 2009 -0500

    ext4: only use i_size_high for regular files
    
    Directories are not allowed to be bigger than 2GB, so don't use
    i_size_high for anything other than regular files.  E2fsck should
    complain about these inodes, but the simplest thing to do for the
    kernel is to only use i_size_high for regular files.
    
    This prevents an intentially corrupted filesystem from causing the
    kernel to burn a huge amount of CPU and issuing error messages such
    as:
    
    EXT4-fs warning (device loop0): ext4_block_to_path: block 135090028 > max
    
    Thanks to David Maciejak from Fortinet's FortiGuard Global Security
    Research Team for reporting this issue.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=12375
    
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    Cc: stable@kernel.org

commit 14819ea1e0bcbdc9b084cd60a6a24d5d786324ef
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Jan 14 12:34:21 2009 +0100

    irq: export __set_irq_handler() and handle_level_irq()
    
    Impact: build fix
    
    ARM updates broke x86 allmodconfig builds:
    
     ERROR: "__set_irq_handler" [drivers/mfd/pcf50633-core.ko] undefined!
     ERROR: "handle_level_irq" [drivers/mfd/pcf50633-core.ko] undefined!
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit c225aa57ff4ffe715df4692676b77c815a337236
Author: Simon Holm Thøgersen <odie@cs.aau.dk>
Date:   Sun Jan 11 22:34:01 2009 -0500

    ext4: fix wrong use of do_div
    
    the following warning:
    
    fs/jbd2/journal.c: In function ‘jbd2_seq_info_show’:
    fs/jbd2/journal.c:850: warning: format ‘%lu’ expects type ‘long
    unsigned int’, but argument 3 has type ‘uint32_t’
    
    is caused by wrong usage of do_div that modifies the dividend in-place
    and returns the quotient. So not only would an incorrect value be
    displayed, but s->journal->j_average_commit_time would also be changed
    to a wrong value!
    
    Fix it by using div_u64 instead.
    
    Signed-off-by: Simon Holm Thøgersen <odie@cs.aau.dk>
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
