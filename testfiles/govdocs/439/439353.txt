---------------------
PatchSet 4571 
Date: 2005/10/18 17:29:48
Author: robl
Branch: HEAD
Tag: (none) 
Log:
fix typos.  turns out Fedora Core 3's 2.6.9 kernel hits this code path

Members: 
	src/kernel/linux-2.6/acl.c:1.5->1.6 

Index: pvfs2-1/src/kernel/linux-2.6/acl.c
diff -u pvfs2-1/src/kernel/linux-2.6/acl.c:1.5 pvfs2-1/src/kernel/linux-2.6/acl.c:1.6
--- pvfs2-1/src/kernel/linux-2.6/acl.c:1.5	Tue Oct 11 17:43:29 2005
+++ pvfs2-1/src/kernel/linux-2.6/acl.c	Tue Oct 18 12:29:48 2005
@@ -538,12 +538,13 @@
 #else
     /* We sort of duplicate the code below from generic_permission */
     int mode = inode->i_mode;
+    int error;
     /* No write access on a rdonly FS */
     if ((mask & MAY_WRITE) && IS_RDONLY(inode) &&
             (S_ISREG(mode) || S_ISDIR(mode) || S_ISLNK(mode)))
         return -EROFS;
     /* No write access to any immutable files */
-    if ((mask & MAY_WRITE) && IS_IMMMUTABLE(inode))
+    if ((mask & MAY_WRITE) && IS_IMMUTABLE(inode))
         return -EACCES;
     if (current->fsuid == inode->i_uid) {
         mode >>= 6;
